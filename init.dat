(function(f,j,d){var k="roistat_visit",n="roistat_first_visit",q="roistat_is_need_listen_requests",e="roistat_visit_cookie_expire",c="1209600",h={expires:parseInt(c),path:"/"},l={expires:10*365*24*60*60,path:"/"};var i=function(t){try{return decodeURIComponent(t)}catch(u){var s;s=g(t);if(s===null){return t}return s}};var g=function(w){var v={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var t="";var u=0;while(u<w.length){var s=w.substring(u,u+3);if(Object.prototype.hasOwnProperty.call(v,s)){t+=v[s];u+=3}else{t+=w.substring(u,u+1);u++}}try{return decodeURIComponent(t)}catch(x){return null}};var r,m;r=f.roistatGetCookie=function(s){var t=j.cookie.match(new RegExp("(?:^|; )"+s.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?i(t[1]):d};m=f.roistatSetCookie=function(v,x,u){u=u||{};var t=u.expires;if(typeof t=="number"&&t){var z=new Date();z.setTime(z.getTime()+t*1000);t=u.expires=z}if(t&&t.toUTCString){u.expires=t.toUTCString()}x=encodeURIComponent(x);var s=v+"="+x;for(var w in u){s+="; "+w;var y=u[w];if(y!==true){s+="="+y}}j.cookie=s};if(f.roistatCookieDomain){h.domain=f.roistatCookieDomain;l.domain=f.roistatCookieDomain}var p={isAvailable:function(){var s=false;if(!f.localStorage||!f.localStorage.setItem||!f.localStorage.getItem||!f.localStorage.removeItem){return s}try{f.localStorage.setItem("testKey","testValue");s=f.localStorage.getItem("testKey")==="testValue";f.localStorage.removeItem("testKey")}catch(t){}return s},save:function(t,u,s){if(this.isAvailable()){localStorage.setItem(t,u)}m(t,u,s)},get:function(t){var s=null;if(this.isAvailable()){s=localStorage.getItem(t)}if(s===null){s=r(t)}return s}};var o="164621";o=parseInt(o)>0?o:0;m(k,o,h);if(!(r(k)>0)){p.save(k,o,h)}if(!(p.get(n)>0)){p.save(n,o,l)}if(!(p.get(e)>0)){p.save(e,c,h)}var b="0";p.save(q,b);var a="0";f.roistatIsInitVisit=!(parseInt(a)>0);f.roistatVisitId=o;f.roistatMetrikaCounterId="52335754"})(window,document,undefined);if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(bG,v,bc){var a1=false,I="180",b8=42,r=bG.roistatHost,am="0.2",R="1.0",cf="roistat_visit_cookie_expire",bz="roistat_visit",az="roistat_first_visit",W="roistat_is_need_listen_requests",cC="roistat_phone",al="roistat_referrer",ci="roistat_marker",aP="roistat_marker_old",a7="roistat_ab",bX="rs",w="roistat",N="leadhunter_expire",C=5*60*60,bd="roistat_leadHunterEnabled",m="roistat_leadHunterTargetPagesMap",bS="roistat_leadHunterCallbackSettings",ax="roistat_leadHunterScriptId",J="roistat_isleadHunterScriptIdActive",aM="roistat_multiwidgetEnabled",br="roistat_multiwidgetVKEnabled",b5="roistat_multiwidgetVKLink",D="roistat_multiwidgetFBEnabled",co="roistat_multiwidgetFBLink",bU="roistat_multiwidgetTelegramEnabled",a0="roistat_multiwidgetTelegramLink",b3="roistat_onlineChatEnabled",d=7*24*60*60,ca={expires:d,path:"/"},S="roistat-promo",Y="roistat-phone",u="roistat-phone-country",T="roistat-phone-region",x="roistat-phone-number",cv="roistat-phone-tel",bj="country",ar="region",aT="number",bu="tel",k="roistat_call_tracking",K="roistat-js-script",a5="roistat_phone_replacement",aU="roistat_phone_script_data",b7="roistat-visit-id",aA="roistat_metrika_counter_id",g="roistat_marker_from_referrer",a4="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bg="roistat_emailtracking_emails",cx="roistat_proxy_forms",cc="roistat_isMultiDomain",b0=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],bA="roistat_debug",aD="roistat_settings_saved",bL="nocookie",aB=["yandex.ru"],aj="beta_test";
var cn=r.replace(/^cloud\./,"");var cj="collector."+cn;var bq={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var bB={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var b9={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(bG.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}bG.roistatAlreadyStarted=true;if(bG.roistatCookieDomain){ca.domain=bG.roistatCookieDomain}bG.roistat={version:I,getSource:function(){return bB.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(cH){bB.visitFromUser=cH},registerOnVisitProcessedCallback:function(cH){bT(cH)},registerOnCalltrackingPhoneReceivedCallback:function(cH){a2(cH)},disableCallTracking:function(){bq.callTrackingEnabled=false},setCallTrackingManualMode:function(){bq.callTrackingManual=true},setJSONPRequestTimeout:function(cH){bq.jsonpRequestTimeout=cH},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){q("Warning: used emailtracking refresh before module init")}},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},notificationsCustomHolderSelector:null},multiwidget:{isEnabled:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},authClientById:function(cH){ah(cH,bc)},authClientByEmail:function(cH){ah(bc,cH)}};var ah=function(cH,cK){if(!bB.isVisitProcessed){q("Visit is not processed, return");return}var cL=cH!==bc&&cH.length>0,cO=cK!==bc&&cK.length>0;if(!cL&&!cO){q("Invalid client params, return");return}var cM=l();if(cM<=0){q("Invalid arguments, return");return}var cN="roistat_authorized_client",cP=bD.get(cN),cJ=cL?cH:cK;if(cP===cJ){q('Client "'+cJ+'" is already authorized, return');return}q("Auth client: "+cJ);bD.set(cN,cJ);var cI=B()+"/update-visit-by-client?visit="+cM+"&v="+I;if(cL){cI+="&client_id="+encodeURIComponent(cH)}if(cO){cI+="&client_email="+encodeURIComponent(cK)}ay(cI)};var cq=function(cK,cI){var cJ=cK.length;for(var cH=0;cH<cJ;cH++){if(cI===cK[cH]){return true}}return false};var O=function(){return h(aj)>0};var aG=function(){return bG.roistatProjectId};var bW=function(){return aG().replace(/\D/g,"")};var aW=function(cH){var cI=bW();return cq(cH,cI)};var b2=function(cH){return JSON.parse(JSON.stringify(cH))};var a8=function(){var cI=b2(ca),cH=parseInt(bD.get(cf));cI.expires=cH>0?cH:d;return cI};var bT=function(cH){if(!bB.isVisitProcessed){b9.onVisitProcessed.push(cH)}else{cH()}};var b4=function(){bB.isVisitProcessed=true;q("[Roistat] visit id set. Processing callbacks");var cI=b9.onVisitProcessed.length;for(var cH=0;cH<cI;cH++){b9.onVisitProcessed[cH]()}if(bG.roistatVisitCallback!==bc){bG.roistatVisitCallback(bG.roistat.getVisit())}};var a2=function(cH){b9.onCallTrackingPhoneReceived.push(cH)};var cp=function(){var cI=b9.onCallTrackingPhoneReceived.length;for(var cH=0;cH<cI;cH++){b9.onCallTrackingPhoneReceived[cH]()}};var ae=function ae(cH){b9.onSPAPageChanged.push(cH)};var bx=function bx(){q("[Roistat] SPA page changed. Processing callbacks");var cI=b9.onSPAPageChanged.length;for(var cH=0;cH<cI;cH++){b9.onSPAPageChanged[cH]()}};var U=function(cL,cK){var cJ=cL.className.split(" "),cI=false,cH;for(cH=0;cH<cJ.length;cH++){if(cJ[cH]===cK){cI=true;break}}if(!cI){cJ.push(cK);cL.className=cJ.join(" ")}};var by=function(cK,cJ){var cI=cK.className.split(" "),cH;for(cH=0;cH<cI.length;cH++){if(cI[cH]===cJ){cI.splice(cH,1);cK.className=cI.join(" ");break}}};var ai=function(cI){try{return decodeURIComponent(cI)}catch(cJ){var cH;cH=s(cI);if(cH===null){return cI}return cH}};var bo={visitor_uid:function(){q("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!cG(bG.AMOPIXEL_IDENTIFIER)||!F(bG.AMOPIXEL_IDENTIFIER.getVisitorUid)){q("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var cH=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!aC(cH)){q("AmoCrmUID: visitor_uid value must be a string");return null}return cH}};var ag=function(){for(var cI in bo){var cH=bo[cI]();if(cH===null){continue}cw(cI,cH,ca)}};var aQ=function(){return["_ym_uid","_ga"].concat(y(bo))};var s=function(cL){var cK={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};
var cI="";var cJ=0;while(cJ<cL.length){var cH=cL.substring(cJ,cJ+3);if(Object.prototype.hasOwnProperty.call(cK,cH)){cI+=cK[cH];cJ+=3}else{cI+=cL.substring(cJ,cJ+1);cJ++}}try{return decodeURIComponent(cI)}catch(cM){return null}};bG.roistatVersion=I;var a6,H=[],bP=aW(["9978269456320005528414"]),n=aW(["9978269456320005528414","593119171370269"]),i,bN=true,bR=v.location.href,aR="",aw="",aY=new Date().getTime(),ch=false,bZ=bG.roistatPhonePrefix?bG.roistatPhonePrefix:"",cD=bG.roistatPhonePrefixBind?bG.roistatPhonePrefixBind:"",E=bG.roistatCalltrackingScripts&&bG.roistatCalltrackingScripts.join?bG.roistatCalltrackingScripts.join(","):"";var h,cw;h=bG.roistatGetCookie=function(cH){var cI=v.cookie.match(new RegExp("(?:^|; )"+cH.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return cI?ai(cI[1]):bc};cw=bG.roistatSetCookie=function(cK,cM,cJ){cJ=cJ||{};var cI=cJ.expires;if(typeof cI=="number"&&cI){var cO=new Date();cO.setTime(cO.getTime()+cI*1000);cI=cJ.expires=cO}if(cI&&cI.toUTCString){cJ.expires=cI.toUTCString()}cM=encodeURIComponent(cM);var cH=cK+"="+cM;for(var cL in cJ){cH+="; "+cL;var cN=cJ[cL];if(cN!==true){cH+="="+cN}}v.cookie=cH};var bb=function(cI,cK,cJ){var cH=cI[cK];cI[cK]=function(){if(cH){cH.apply(this,arguments)}cJ.apply(this,arguments)}};var Q=function(cJ,cI,cK){if(cJ.addEventListener){cJ.addEventListener(cI,cK,false);return}var cH="on"+cI;if(cJ.attachEvent){cJ.attachEvent(cH,cK);return}if(cH in cJ){bb(cJ,cH,cK);return}if(cI in cJ){bb(cJ,cI,cK);return}q("Handler could not be attached")};var o=function(cK,cJ){var cI=cK.length;for(var cH=0;cH<cI;cH++){cJ(cK[cH])}};var y=function(cH){var cI=[];aX(cH,function(cJ,cK){cI.push(cJ)});return cI};var aX=function(cH,cJ){for(var cI in cH){if(Object.prototype.hasOwnProperty.call(cH,cI)){cJ(cI,cH[cI])}}};var a3=function(cH){return Object.prototype.toString.call(cH)==="[object Array]"};var at=function(cI){if(typeof cI!=="object"){return false}for(var cH in cI){if(cI.hasOwnProperty(cH)){return true}}return false};var cs=function(cI){try{var cH=JSON.parse(cI);if(cH&&typeof cH==="object"){return cH}}catch(cJ){}return null};if(v.getElementsByClassName==bc){v.getElementsByClassName=function(cI){var cH=[];var cM=new RegExp("\\b"+cI+"\\b");var cL=this.getElementsByTagName("*");for(var cK=0;cK<cL.length;cK++){var cJ=cL[cK].className;if(cM.test(cJ)){cH.push(cL[cK])}}return cH}}var ak=function(){return String.fromCharCode};var b6=function(cJ){var cH="";for(var cI=0;cI<cJ.length;++cI){cH+=ak()(b8^cJ.charCodeAt(cI))}return cH};var ap=function(cH){return encodeURIComponent(b6(bI.encode(cH)))};var bI={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(cJ){var cH="";var cQ,cO,cM,cP,cN,cL,cK;var cI=0;cJ=bI._utf8_encode(cJ);while(cI<cJ.length){cQ=cJ.charCodeAt(cI++);cO=cJ.charCodeAt(cI++);cM=cJ.charCodeAt(cI++);cP=cQ>>2;cN=((cQ&3)<<4)|(cO>>4);cL=((cO&15)<<2)|(cM>>6);cK=cM&63;if(isNaN(cO)){cL=cK=64}else{if(isNaN(cM)){cK=64}}cH=cH+this._keyStr.charAt(cP)+this._keyStr.charAt(cN)+this._keyStr.charAt(cL)+this._keyStr.charAt(cK)}return cH},decode:function(cJ){var cH="";var cQ,cO,cM;var cP,cN,cL,cK;var cI=0;cJ=cJ.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(cI<cJ.length){cP=this._keyStr.indexOf(cJ.charAt(cI++));cN=this._keyStr.indexOf(cJ.charAt(cI++));cL=this._keyStr.indexOf(cJ.charAt(cI++));cK=this._keyStr.indexOf(cJ.charAt(cI++));cQ=(cP<<2)|(cN>>4);cO=((cN&15)<<4)|(cL>>2);cM=((cL&3)<<6)|cK;cH=cH+String.fromCharCode(cQ);if(cL!=64){cH=cH+String.fromCharCode(cO)}if(cK!=64){cH=cH+String.fromCharCode(cM)}}cH=bI._utf8_decode(cH);return cH},_utf8_encode:function(cI){cI=cI.replace(/\r\n/g,"\n");var cH="";for(var cK=0;cK<cI.length;cK++){var cJ=cI.charCodeAt(cK);if(cJ<128){cH+=String.fromCharCode(cJ)}else{if((cJ>127)&&(cJ<2048)){cH+=String.fromCharCode((cJ>>6)|192);cH+=String.fromCharCode((cJ&63)|128)}else{cH+=String.fromCharCode((cJ>>12)|224);cH+=String.fromCharCode(((cJ>>6)&63)|128);cH+=String.fromCharCode((cJ&63)|128)}}}return cH},_utf8_decode:function(cH){var cJ="";var cL=0;var cM=0;var cK=0;var cI=0;while(cL<cH.length){cM=cH.charCodeAt(cL);if(cM<128){cJ+=String.fromCharCode(cM);cL++}else{if((cM>191)&&(cM<224)){cK=cH.charCodeAt(cL+1);cJ+=String.fromCharCode(((cM&31)<<6)|(cK&63));cL+=2}else{cK=cH.charCodeAt(cL+1);cI=cH.charCodeAt(cL+2);cJ+=String.fromCharCode(((cM&15)<<12)|((cK&63)<<6)|(cI&63));cL+=3}}}return cJ}};var a9=function(){return v[ak()(99,111,111,107,105,101)]};var aa=function(){cz();var cH={c:cl()};return ap(JSON.stringify(cH))};var bV=function(){var cH=l();return(cH===bc||cH===null)?bL:cH};var cl=function(){var cH=[];for(var cI in bB.cookies){if(!Object.prototype.hasOwnProperty.call(bB.cookies,cI)){continue}cH.push(cI+"="+bB.cookies[cI])}return cH.join("; ")};var cz=function(){var cH=j();for(var cI in cH){if(!Object.prototype.hasOwnProperty.call(cH,cI)){continue}bB.cookies[cI]=cH[cI]}};var Z=function(cH){cw(ci,cH,a8());bB.source.marker=cH};var V=function(){return h(ci)};var e=function(){aX(bG.roistat.page.params,function(cI,cH){bB.pageParams[cI]=cH
})};var j=function(){var cK=a9();var cL=cK.split("; ");var cH={};for(var cJ=0;cJ<cL.length;cJ++){var cO=cL[cJ];if(cO===""){continue}var cI=cO.split("=");if(cI.length<2){continue}var cN=cI[0].trim();var cM=cI[1].trim();cH[cN]=cM}return cH};var f=function(){return ak()(104,97,115,104)};var aq=function(cH){return cH.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var bw={isAvailable:function(){var cH=false;if(!bG.sessionStorage||!bG.sessionStorage.setItem||!bG.sessionStorage.getItem||!bG.sessionStorage.removeItem){return cH}try{bG.sessionStorage.setItem("testKey","testValue");cH=bG.sessionStorage.getItem("testKey")==="testValue";bG.sessionStorage.removeItem("testKey")}catch(cI){return false}return cH},remove:function(cH){if(this.isAvailable()){bG.sessionStorage.removeItem(cH)}},setObject:function(cH,cI){if(this.isAvailable()){bG.sessionStorage.setItem(cH,JSON.stringify(cI))}},getObject:function(cI){var cH=null;if(this.isAvailable()){cH=bG.sessionStorage.getItem(cI);cH=JSON.parse(cH)}return cH},set:function(cH,cI){if(this.isAvailable()){bG.sessionStorage.setItem(cH,cI)}},get:function(cI){var cH=null;if(this.isAvailable()){cH=bG.sessionStorage.getItem(cI)}return cH}};var bD={isAvailable:function(){var cH=false;if(!bG.localStorage||!bG.localStorage.setItem||!bG.localStorage.getItem||!bG.localStorage.removeItem){return cH}try{bG.localStorage.setItem("testKey","testValue");cH=bG.localStorage.getItem("testKey")==="testValue";bG.localStorage.removeItem("testKey")}catch(cI){return false}return cH},remove:function(cI){if(this.isAvailable()){bG.localStorage.removeItem(cI)}else{var cH=new Date(1970,1,1);cw(cI,"",{expires:cH.toUTCString()})}},setObject:function(cH,cI){if(this.isAvailable()){localStorage.setItem(cH,JSON.stringify(cI))}},getObject:function(cI){var cH=null;if(this.isAvailable()){cH=localStorage.getItem(cI);cH=cs(cH)}return cH},set:function(cH,cI){if(this.isAvailable()){localStorage.setItem(cH,cI)}else{cw(cH,cI,ca)}},save:function(cI,cJ,cH){if(this.isAvailable()){localStorage.setItem(cI,cJ)}cw(cI,cJ,cH)},get:function(cI){var cH=null;if(this.isAvailable()){cH=localStorage.getItem(cI)}if(cH===null){cH=h(cI)}return cH}};var bt=function(){return !bs(v.referrer)?v.referrer:null};var F=function(cH){return typeof cH==="function"};var cG=function(cH){return typeof cH==="object"};var aC=function(cH){return typeof cH==="string"};var L=function(cK,cJ){cJ=typeof cJ!=="undefined"?cJ:false;var cL=function(cO){var cN=null;var cP=new RegExp("[#&?]("+cK+"=[^#&?]+)");if(cP.test(cO)){cN=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var cM=ai(cN);return cN&&cM?cM:cN};var cH=cL(bR);if(cJ){var cI=v.referrer;if(cH===null&&cI){cH=cL(cI)}}return cH};var cm=function(cI,cJ){var cH=false;if(cI&&cJ){cH=cI.split(cJ).join("")!==cI}return cH};if(L(bA)==="1"||j()[bA]==="1"){a1=true}var aL=function(){if("https:"===v.location.protocol){return"https:"}else{return"http:"}};var G=function(cI){var cH=v.createElement("img");cH.src=cI;q("sendRequestByUrl: "+cI)};var ay=function(cI){q("sendApiRequestJSONP: init with url "+cI);var cH=v.createElement("script");cH.onload=cH.onreadystatechange=function(){var cK=this.readyState?this.readyState:"unknown";q("sendApiRequestJSONP: script state changed to "+cK)};cH.src=cI;cH.type="text/javascript";cH.async=true;var cJ=v.getElementsByTagName("script")[0];cJ.parentNode.insertBefore(cH,cJ);q("sendApiRequestJSONP: script appended")};var bQ=function(){var cI=v.createElement("link"),cH=v.getElementsByTagName("head");cI.setAttribute("rel","stylesheet");cI.setAttribute("href",aL()+"//"+r+"/dist/module.css?"+I);if(cH.length>0){cH[0].appendChild(cI)}};var bJ=function(){return bM()||cE()};var bM=function(){return aS()!==null};var cE=function(){return bF()!==null};var cg=function(){var cH=cd();if(cH!==null){cw(bz,cH,a8())}};var cd=function(){return aS()||bF()||null};var aS=function(){return L("roistat_visit")};var bF=function(){return bB.visitFromUser};var a=function(cH){if(bB.isSettingsUpdating||!v.hasFocus()){q("Already updating settings or document not in focus, return");return}var cI=B()+"/get-settings?v="+I+"&visit="+cH;q("Request new settings");bB.isSettingsUpdating=true;ay(cI)};var au=function(){return bD.get(aD)>0};var ct=function(){bD.set(aD,1)};var cA=function(){q("Call: Init");q("Counter version: "+I);if(L("roistat_ab_demo")==="1"){q("Roistat initialisation rejected: ab test preview mode");return}bQ();aV();b1();if((!X()||cF())&&!bG.roistatOnlineChatOnly){ch=true;be()}else{cg();var cH=l();bk();aJ();ce();roistat.visit=cH;bB.source.marker=V();var cI=au();if(!cI){a(cH)}else{b4()}}if(!n){cr()}};var z=function(cJ){if(!cJ.isEnabled){return true}var cH=new Date();var cQ=new Date().toISOString();var cN=cH.getUTCDay()===0?7:cH.getDay();var cO=cN===6||cN===7;var cM=new Date(cJ.weekdaysTime.from).toISOString();var cI=new Date(cJ.weekdaysTime.to).toISOString();var cR=new Date(cJ.weekendsTime.from).toISOString();var cK=new Date(cJ.weekendsTime.to).toISOString();
var cP=false;for(var cL=0;cL<cJ.days.length;cL++){if(cN===cJ.days[cL]){cP=true}}if(!cP){return false}if(cO){return cQ>=cR&&cQ<=cK}return cQ>=cM&&cQ<=cI};var aV=function(){q("Call: initMarker");a6=bK();q("Call: inited marker: "+a6)};var b1=function(){q("Call: initReferrer");i=bt();q("Call: end initReferrer: "+i)};var bs=function(cJ){if(!cJ){return true}var cH=aK(cJ);var cI=aK(v.domain);if(cH===cI){return true}var cK=bp();if(cK===null){return false}if(cm(cH,cK)&&cm(cI,cK)){return true}return false};var bp=function(){if(typeof ca.domain==="string"&&ca.domain!==""){return aK(ca.domain)}return null};var aK=function(cH){var cI=cH.split("http://").join("").split("https://").join("").split("www.").join("");return cI.split("/")[0]};var bK=function(){var cM=h(g)>0;var cO=null;var cJ=function(cR){return cR.split("_").join(":u:")};var cQ=function(cS){var cR=false;o(aB,function(cT){if(cS.indexOf(cT)>-1){cR=true}});return cR};var cP=function(){var cR=false;var cS;cS=L(w,cM);if(cS!==null){cO=cS;cR=true}cS=L(bX,cM);if(cS!==null){cO=cS;cR=true}return cR};var cK=function(){var cR=false;var cS=V();if(cS){cO=cS;cR=true;bN=false}return cR};var cI=function(){var cR=false;var cT=L("utm_source",cM);if(cT!==null){cR=true;cO=":utm:"+cJ(cT);var cV=["utm_medium","utm_campaign","utm_content","utm_term"];var cS;for(var cU=0;cU<cV.length;cU++){cS=L(cV[cU],cM);if(cS!==null){cO=cO+"_"+cJ(cS)}}}return cR};var cL=function(){var cT,cS,cR=false;cS=L("_openstat",cM);if(!cS){return false}if(cN(cS)){cT=cS}else{cT=encodeURI(bI.decode(cS));if(!cN(cT)){cT=cS}}if(cT){cT=cJ(cT).split(";").join("_");cO=":openstat:"+cT;cR=true}return cR};var cN=function(cR){return cR.match(/^([^;]*(;[^;]*){3})$/)!==null};var cH=function(){var cR=false;var cS=v.referrer;if(bs(cS)){return cR}var cT=L("from",cM);if(cT!==null&&!cm(cT,"http")){if(!cQ(cT)){cR=true;cO=cJ(cT)}}return cR};if(cP()){bY("Init marker: init from RS param "+cO);return cO}if(cI()){bY("Init marker: init from UTM "+cO);return cO}if(cL()){bY("Init marker: init from OpenStat "+cO);return cO}if(cH()){bY("Init marker: init from custom tag "+cO);return cO}bY("Init marker: try init from cookie "+cO);cK();return cO};var l=function(){return bD.get(bz)};var M=function(){q("Call: saveReferrer");bD.set(al,i)};var bv=function(){q("Call: removeReferrer");bD.remove(al)};var cr=function(){cw(aP,ai(a6),a8())};var ce=function(){q("Call: refreshPromoCode");if(bG.roistatOnlineChatOnly){q("PromoCode: Shut down because only online chat need to be inited");return}var cH=function(){return h(bz)};ad(cH());if(!bG.onload){bG.onload=function(){ad(cH())}}setTimeout(function(){ad(cH())},50);setTimeout(function(){ad(cH())},200);setTimeout(function(){ad(cH())},2000);setTimeout(function(){ad(cH())},10000)};bG.roistatPromoCodeRefresh=ce;var cu=function(){var cH=[];var cI=v.getElementsByClassName(S);if(cI&&cI.length){cH=cI}return cH};var ad=function(cH){var cK=cu();q("setPromoCode: "+cH+" in "+cK.length+" elements");for(var cJ=0;cJ<cK.length;cJ++){var cI=cK[cJ];cI.innerHTML=cH?cH:""}};var bh=function(){var cJ=bK(),cI=h(aP),cL=cJ!==null,cK=true;var cN=ai(ai(cJ)).toLowerCase().split("+").join(" "),cM=ai(ai(cI)).toLowerCase().split("+").join(" ");if(cJ&&cI){cK=cN!==cM}var cH=cL&&cK;aw="Call: needOverrideByMarker (result "+(cH?"true":"false")+") with current "+cJ+":"+cN+" and old "+cI+":"+cM;bY(aw);return cH};var ao=function(){var cI=function(cQ){return/[\u0400-\u04FF]/.test(cQ)};var cP=false,cM=i,cH=bD.get(al),cO=bG.location.host;if(!cM||!cO){bY("Call: needOverrideByReferrer (result "+(cP?"true":"false")+"), skip because one of params is empty");return cP}cO=aK(cO);cM=ai(cM);cH=ai(cH);var cK=aK(cM);if(cm(cM,"xn--")&&cI(cO)){bY("Call: needOverrideByReferrer (result "+(cP?"true":"false")+"), skip because of bugs with punycode in FF");return cP}if(!cK){bY("Call: needOverrideByReferrer (result "+(cP?"true":"false")+"), skip because current referrer is null");return cP}if(!cH){cP=!cm(cK,cO);bY("Call: needOverrideByReferrer (result "+(cP?"true":"false")+"), compare current referrer and host");return cP}if(cm(cM,cH)){bY("Call: needOverrideByReferrer (result "+(cP?"true":"false")+"), skip because the same referrer");return cP}var cN=cO.split(".").length>2&&cK.split(".").length>2;var cL=bG.roistatCookieDomain!==bc&&bG.roistatCookieDomain!==cO;var cJ=cK.split(".").slice(1).join(".")===cO.split(".").slice(1).join(".");if(cN&&cL&&cJ){bY("Call: needOverrideByReferrer (result "+(cP?"true":"false")+"), skip because sub domains of same domain");return cP}cP=!(cm(cK,cO)||(cm(cO,cK)));bY("Call: needOverrideByReferrer (result "+(cP?"true":"false")+") referrerHost: "+cK+", currentHost: "+cO);return cP};var bl=function(){return L("utm_nooverride")==="1"};var cF=function(){return !bJ()&&!bl()&&(bh()||ao())};var bm=function(cI,cH){return(cI&&cH&&cI!=cH)};var aN=function(cJ){var cH=["cookieExpire"];var cL=cJ.leadHunterEnabled;if(Number(bD.get(bd))!==Number(cJ.leadHunterEnabled)){bD.set(bd,Number(cJ.leadHunterEnabled))}if(cL){var cK={expires:C,path:"/"};if(ca.domain){cK.domain=ca.domain
}cw(N,1,cK)}for(var cI in cJ){if(!Object.prototype.hasOwnProperty.call(cJ,cI)){continue}if(!cL&&cI.indexOf("leadHunter")>=0&&cI.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!ac(cH,cI)){bD.set("roistat_"+cI,cJ[cI])}}};var cb=function(cH){if(!cH){return}roistat.multiwidget={isEnabled:cH.is_enabled,vk:{isEnabled:cH.vk.is_enabled,link:cH.vk.link},fb:{isEnabled:cH.fb.is_enabled,link:cH.fb.link},telegram:{isEnabled:cH.telegram.is_enabled,link:cH.telegram.link}};if(Number(bD.get(aM))!==Number(cH.is_enabled)){bD.set(aM,Number(cH.is_enabled))}if(Number(bD.get(br))!==Number(cH.vk.is_enabled)){bD.set(br,Number(cH.vk.is_enabled))}if(bD.get(b5)!==cH.vk.link){bD.set(b5,cH.vk.link)}if(Number(bD.get(D))!==Number(cH.fb.is_enabled)){bD.set(D,Number(cH.fb.is_enabled))}if(bD.get(co)!==cH.fb.link){bD.set(co,cH.fb.link)}if(Number(bD.get(bU))!==cH.telegram.is_enabled){bD.set(bU,Number(cH.telegram.is_enabled))}if(bD.get(a0)!==cH.telegram.link){bD.set(a0,cH.telegram.link)}};var cB=function(cJ,cL,cI,cK,cH,cM){aN(cJ);roistat.callTracking.enabled=cL.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=cI.email;roistat.emailtracking.trackingEmail=cI.trackingEmail;roistat.emailtracking.emails=cI.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=cK;cb(cH);roistat.onlineChat.isEnabled=cM.is_enabled;if(Number(bD.get(b3))!==Number(cM.is_enabled)){bD.set(b3,Number(cM.is_enabled))}};bG.roistatModuleSetVisitCookie=function(cM,cT,cK,cI,cS,cH,cU,cO){q("Call: roistatModuleSetVisitCookie("+cM+")");var cP;if(typeof cK.cookieExpire!=="number"){cP=a8().expires}else{cP=cK.cookieExpire}var cN=h(bz);var cR={expires:cP,path:"/"};if(ca.domain){cR.domain=ca.domain}cw(bz,cM,cR);if(!(h(bz)>0)){bD.save(bz,cM,cR)}if(!bD.get(az)){var cJ={expires:10*365*24*60*60,path:"/"};if(ca.domain){cJ.domain=ca.domain}bD.save(az,cM,cJ)}var cQ=cK.abTests;if((typeof cQ!=="undefined")&&bD.isAvailable()){bD.setObject("abTesting",cQ)}applyTests();var cL=cK.isNeedToListenRequests;if((typeof cL!=="undefined")&&bD.isAvailable()){bD.set(W,cL)}ad(cM);if(cT){Z(cT);cw(aP,cT,cR)}q("Call: pre renderPromoCode");aJ();ce();if(bm(cN,cM)){q("roistatModuleSetVisitCookie: visit changed from "+cN+" to "+cM)}if(bG.roistatCallback!==bc){bG.roistatCallback(cM,cT)}if(!cU){cU={}}cB(cK,cI,cS,cH,cU.multiwidget_settings,cO);roistat.callTracking.phone=cI.phone;roistat.callTracking.sessionTime=cI.sessionTime;roistat.callTracking.replacementClasses=cI.replacementClasses;roistat.callTracking.phoneScriptsJson=cI.scripts;roistat.visit=cM;cp();ct();b4()};bG.roistatUpdateSettings=function(cH){q("Set settings.");bB.isSettingsUpdating=false;cB(cH.js_settings,cH.calltracking,cH.emailtracking,cH.proxy_forms,cH.multiwidget.multiwidget_settings,cH.online_chat);ct();b4()};var X=function(){var cH;if(bG.roistatIsInitVisit===true){cH=false}else{cH=h(bz)>0}bY("Call: alreadyVisited (return "+(cH?"true":"false")+")");return cH};var c=function(cH){return encodeURIComponent?encodeURIComponent(cH):encodeURI(cH)};var aF=function(){return i?c(i):""};var B=function(){return aL()+"//"+r+"/api/site/"+R+"/"+aG()};var bO=function(){var cH={expires:1,path:"/"};if(ca.domain){cH.domain=ca.domain}cw(a7,"",cH)};var be=function(){q("Call: setVisitIdCookie");var cI=function(){var cQ=aG(),cN=aF(),cK=bG.roistatIsInitVisit===true?l():0,cP=h(a7),cL=bD.get(az);cP=cP?cP:"";cL=cL?cL:"";a6=a6&&(!ao()||bN)?ai(ai(a6)):"";var cO=encodeURIComponent(bR);q("Calltracking: enabled="+bq.callTrackingEnabled+",manual="+bq.callTrackingManual);var cM=JSON.stringify(bG.roistat.page.params);return B()+"/addVisit?v="+I+"&marker="+encodeURIComponent(a6)+"&visit="+cK+"&first_visit="+cL+"&phone_prefix="+bZ+"&phone_prefix_bind="+cD+"&phone_scripts_bind="+E+"&referrer="+cN+"&page="+cO+"&ab="+c(cP)+"&"+f()+"="+aa()+(cM==="{}"?"":"&page_params="+encodeURIComponent(cM))+((!bq.callTrackingEnabled||bq.callTrackingManual)?"&call_tracking_disabled=1":"")+(H.length>0?"&log="+encodeURIComponent(JSON.stringify(H)):"")};var cH=function(cK){setTimeout(function(){q("Call: setVisitIdCookie script creation after timeout");var cL=v.createElement("script");cL.onload=cL.onreadystatechange=function(){var cN=this.readyState?this.readyState:"unknown";q("Call: setVisitIdCookie script state changed to "+cN)};cL.src=cK;cL.type="text/javascript";cL.async=true;cL.id=K;var cM=v.getElementsByTagName("script")[0];cM.parentNode.insertBefore(cL,cM);q("Call: setVisitIdCookie appended "+((v.getElementById(K))?"true":"false"));q("Call: sendJSONPRequest to URL "+cK);bO()},bq.jsonpRequestTimeout)};if(a6){Z(a6);if(n){cr()}}ag();var cJ=cI();cH(cJ);i?M():bv()};var bk=function(){q("Call: sendAbTests");var cI=function(){var cM=aG(),cL=h(bz);return aL()+"//"+r+"/site-api/"+am+"/"+cM+"/visit/"+cL+"/addAbVariant"};var cJ=h(a7);if(!cJ){return}var cK=cI();cK=cK+"?ab="+c(cJ);var cH=v.createElement("img");cH.src=cK;bO()};var av={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)
},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(av.Android()||av.BlackBerry()||av.iOS()||av.Opera()||av.Windows())}};var aE={isIE:function(cJ,cL){var cM="IE",cI=v.createElement("B"),cH=v.documentElement,cK;if(cJ){cM+=" "+cJ;if(cL){cM=cL+" "+cM}}cI.innerHTML="<!--[if "+cM+']><b id="iecctest"></b><![endif]-->';cH.appendChild(cI);cK=!!v.getElementById("iecctest");cH.removeChild(cI);return cK}};var bH=function(){return new Date().getTime()};var P=function(){var cH="";bG.onerror=function(cN,cM,cJ,cL,cK){var cI=!cL?"":", column: "+cL;cI+=!cK?"":", error: "+cK;cH=cH+", Error: "+cN+", url: "+cM+", line: "+cJ+cI};setTimeout(function(){var cP=false,cQ="";var cL=cu();for(var cO=0;cO<cL.length;cO++){var cK=cL[cO];if(cK!==null&&!cK.innerHTML){cP=true;cQ="Promo HTML: "+cK.innerHTML}}if(!(h(bz)>0)){cP=true;cQ=cQ+"; roistat_visit = "+h(bz)}if(cP){var cJ=v.getElementById(K);var cI=cJ?1:0;var cM=bG.navigator.userAgent;cQ=encodeURIComponent(cQ);var cN=v.createElement("img");cN.src=aL()+"//"+r+"/site-api/"+am+"/"+aG()+"/debug?message="+cQ+"&agent="+cM+"&"+f()+"="+aa()+"&jserror="+cH+"&scriptResponse="+cI+"&version="+I+"&debug="+aR}},20000)};var ba=function(){var cJ=v.getElementsByTagName("body");var cK=v.documentElement;var cI=0,cL=0;if(cJ.length){var cH=cJ[0];cI=bG.innerWidth||cK.clientWidth||cH.clientWidth;cL=bG.innerHeight||cK.clientHeight||cH.clientHeight}else{cI=bG.innerWidth||cK.clientWidth;cL=bG.innerHeight||cK.clientHeight}return{width:cI,height:cL}};var aJ=function(){var cM=v.getElementsByClassName("roistat-promo-wrap");if(cM.length){q("PromoCode: old promo code length - exit");return}if(bG.roistatOnlineChatOnly){q("PromoCode: Shut down because only online chat need to be inited");return}var cK=function(){var cT=v.createElement("div");cT.innerHTML=roistatPromoCode;var cR=v.getElementsByTagName("body");if(cR.length){cR[0].appendChild(cT)}q("PromoCode: appended to body "+roistatPromoCode.length);var cS=v.getElementsByClassName("roistat-promo-wrap")[0];if(!cS){q("PromoCode: roistat-promo-wrap not found, skip");return}var cQ=cS.style;var cO,cP,cN;setInterval(function(){cO=ba();cP=cS.offsetWidth;cN=cS.offsetHeight*2;switch(roistatPosition){case"top_left":cQ.left=0;cQ.top=0;break;case"top":cQ.left=((cO.width-cP)/2)+"px";cQ.top=0;break;case"top_right":cQ.right=0;cQ.top=0;break;case"left":cQ.left=0;cQ.top=((cO.height-cN)/2)+"px";break;case"right":cQ.right=0;cQ.top=((cO.height-cN)/2)+"px";break;case"bottom_left":cQ.left=0;cQ.bottom=0;break;case"bottom":cQ.left=((cO.width-cP)/2)+"px";cQ.bottom=0;break;case"bottom_right":cQ.right=0;cQ.bottom=0;break;default:cQ.left=0;cQ.top=0}},500)};var cH=bD.getObject("promo_code_options");if(cH){bG.roistatPromoCode=cH.template;bG.roistatPosition=cH.position;cK()}else{var cL=v.getElementsByTagName("head")[0]||v.documentElement;var cJ=v.createElement("script");cJ.src=aL()+"//"+r+"/site-api/"+am+"/"+aG()+"/getPromoCode";cL.insertBefore(cJ,cL.firstChild);q("PromoCode: loading started");var cI=false;cJ.onload=cJ.onreadystatechange=function(){if(!cI&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){cI=true;cJ.onload=cJ.onreadystatechange=null;if(cL&&cJ.parentNode){cL.removeChild(cJ)}}if(!cI){return}q("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){q("PromoCode: is disabled");return}cH={template:roistatPromoCode,position:roistatPosition};bD.setObject("promo_code_options",cH);cK()}}};var ac=function(cI,cJ){for(var cH=0;cH<cI.length;cH++){if(cI[cH]===cJ){return true}}return false};var q=function(cI){var cJ=bH()-aY;var cH="["+(cJ/1000)+"s] "+cI;aR=aR+"; "+cH;if(typeof console!=="undefined"&&console.log&&a1){console.log(cH)}};var bY=function(cH){q(cH);if(!bP){return}H.push(cH)};var an=function an(){var cL=bG.onpopstate;var cM=bG.history.pushState;var cH=bG.history.replaceState;Q(bG,"popstate",function cK(cN){q("[Roistat]: popstate event catch");bx();if(O()&&typeof cL==="function"){cL(cN)}});Q(bG.history,"pushState",function cJ(cO,cP,cN){q("[Roistat]: pushState event catch");bx();if(O()&&typeof cM==="function"){cM.apply(this,[cO,cP,cN])}});Q(bG.history,"replaceState",function cI(cO,cP,cN){q("[Roistat]: replaceState event catch");bx();if(O()&&typeof cH==="function"){cH.apply(this,[cO,cP,cN])}})};(function bi(){an();if(bG.onRoistatModuleLoaded!==bc&&typeof bG.onRoistatModuleLoaded==="function"){bG.onRoistatModuleLoaded()}})();var bf=function(cI){var cN=function(cU,cS){var cR;if(cm(cS,"*")){var cT=new RegExp(cS.split("*").join(".*"));cR=cT.test(cU)}else{cR=cU===cS}q("LeadHunter: compare current: "+cU+", setting: "+cS+" with result = "+(cR?1:0));return cR};var cH=bG.location.href,cK=false,cJ=false,cP="",cL=0,cO;cO=cI?cI.split(","):[];if(!cH||cO.length===0){cK=true}else{cP=aq(cH);var cQ;for(var cM=0;cM<cO.length;cM++){cQ=cO[cM].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(cQ)){if(cN(cP,cQ.split(/^!/).join(""))){cJ=true;
break}}else{cL++;if(cN(cP,cQ)){cK=true;break}}}}if(cJ){q('LeadHunter: current page "'+cP+'" is disabled by list');return false}if(!cK&&cL>0){q('LeadHunter: current page "'+cP+'" is not listed');return false}q('LeadHunter: current page "'+cH+'", cleaned: "'+cP+'" is not disabled in '+cO.length+" list of pages");return true};cA();(function aI(){var c2="roistat-leadhunter-form-template",c6="roistat-leadhunter-pulsator-template",c1="roistat-leadhunter-pulsator-settings",cO="roistat-online-chat-pulsator-template",cR="roistat-online-chat-iframe-template",cT="roistat-multiwidget-pulsator-template",cP="roistat-multiwidget-pulsator-settings";var c8="empty",cN=false,cI=true,cZ=false;var c4;var c9=function(dc,db,da){if(dc.addEventListener){dc.addEventListener(db,da,false)}else{if(dc.attachEvent){dc.attachEvent("on"+db,da)}else{q("Handler could not be attached")}}};var c5={leadHunter:function(){var e0="roistat-lh-form",dA="roistat-lh-form",e3="roistat-lh-head-text",dO="roistat-lh-head",dw="roistat-lh-thank-you",ef="roistat-lh-thank-you",dg="roistat-lh-close",dh="roistat-lh-submit",dX="roistat-lh-hidden",eE="roistat-lh-wrap",dC="roistat-lh-popup-wrapper",ee="roistat-lh-popup",e2="roistat-lh-agreement",ea="roistat-lh-agreement roistat-lh-mobile",fh="roistat-lh-agreement-input",eQ="roistat-lh-agreement-link",da="roistat-lh-agreement-doc",eW="roistat-lh-alert-row",en="roistat-lh-agreement",d9="roistat-lh-popup-iframe",ep="roistat_leadHunterUrl",eS="roistat_leadHunterAppearanceUrl",d1="roistat_leadHunterTargetPagesList",dv="roistat_leadHunterCaught",ew="roistat_leadHunterMinTime",dS="roistat_leadHunterAutoShowTime",et="roistat_leadHunterPulsatorEnabled",dM="roistat_leadHunterScriptsCaught",fi="roistat_leadHunterScriptsShownCount",d7="roistat-lh-load-done",dB="roistat-lh-close-modal",eG="roistat-lh-script-settings",eF="roistat-lh-setting-size",eX="roistat-lh-before-submit",eq="roistat-lh-before-submit-done",e5="roistat-lh-after-submit",eJ="roistat-lh-event-data",eK="roistat-lh-translate-form",eT="ru",dd="en",ff={topLeft:{bottom:"80%",right:"auto"},topRight:{bottom:"80%",right:"3%"},bottomRight:{bottom:"10%",right:"3%"},bottomLeft:{bottom:"10%",right:"auto"}};var du=0.3,dG=0.001,dx=false,dJ=0,dE=0,dK=0,e7=0,dI=0,dY=false,dl=false,ej="",dH,eV,eh,eo,eD,dN,fg,fb,eR,fe,dq,e8,eA,ei,d8,dt,de,dW,dL,dT,eO,eY,dQ,e1,e6,d0;var fa={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var e4=function(fm){var fl=encodeURIComponent?encodeURIComponent:encodeURI;return fl(fm)};var eI=function(){if(!bG.roistat.leadHunter.isEnabled){return false}if(bG.roistatLeadHunterInited){return false}bG.roistatLeadHunterInited=true;if(bD.get(bd)<1){q("LeadHunter: disabled");return false}return true};var dV=function(){de=bD.get(ep);if(!de){q("LeadHunter: not active cause of empty url");return false}dW=bD.get(eS);e7=bD.get(ew);dI=bG.roistat.leadHunter.form.autoShowTime===null?bD.get(dS):bG.roistat.leadHunter.form.autoShowTime;cN=bD.get(et)==1;dc();return true};var d3=function(){return bD.get(dv)>0};var dc=function(){if(!(h(N)>0)){q("LeadHunter: not active, expired for this visit");dY=true}};var dm=function(fl){dT=eO.src;var fm={version:I,additionalNotifyEmail:bG.roistat.leadHunter.additionalNotifyEmail,projectKey:aG(),language:ej,visitId:bV(),moduleTargetOrigin:bG.location.origin,referrer:bG.location.href,windowWidth:bG.innerWidth||0,iframeWrapperWidth:eo.offsetWidth||0,sendRequestUrl:bD.get(ep),message:d7};eO.contentWindow.postMessage(fm,dT);ev();if(fl){q("Beta Test on, iframe fired, rise up iframe show count state");df()}};var d6=function(){dl=true;dk("click");dm();eC()};var dj=function(){var fl=bG.location.hash;if(!fl){return}if(cm(fl,"roistat-lead-hunter")){d6()}};var d4=function ds(){q("LeadHunter: binding timeout");if(dY){q("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(dx){q("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(dI>0){var fl=(dJ-bH())+dI*1000;q("LeadHunter: binding timeout with delay "+fl+" ms");clearTimeout(fa.timeoutId);fa.timeoutId=setTimeout(function(){q("LeadHunter: form auto activate with autoTime = "+dI);if(!dx){q("LeadHunter: show by timeout");dl=true;dk("auto");dm(true);eC()}},fl)}else{q("LeadHunter: auto show time is not positive, feature disabled")}};var eU=function(){eR.onclick=eD.onclick=el;fe.onclick=dZ;if(e8){c9(e8,"click",eb)}if(eA){c9(eA,"change",fj)}var fm=v.getElementsByClassName("roistat-lh-input");for(var fp=0;fp<fm.length;fp++){c9(fm[fp],"keyup",function(fr){fr=fr||event;var fq=(fr.keyCode?fr.keyCode:fr.which);if(fq==13){dZ()}})}var fn=bG.onresize;bG.onresize=function(fq){if(fn){fn(fq)}eZ(fq)};if(!dY){var fl=v.onmouseout;v.onmouseout=function(fq){if(fl){fl(fq)}ez(fq)}}if(cN&&!cY()){dH.onmouseover=function(){U(dH,"roistat-lh-pulsator-hover")};dH.onmouseout=function(){by(dH,"roistat-lh-pulsator-hover")};dH.onclick=function(){d6()}}var fo=bG.onhashchange;bG.onhashchange=function(){if(fo){fo.apply(this,arguments)}dj()}};var fd=function(){if(cN&&!cY()){dH.onmouseover=function(){U(dH,"roistat-lh-pulsator-hover")
};dH.onmouseout=function(){by(dH,"roistat-lh-pulsator-hover")};dH.onclick=function(){d6()}}eD.onclick=el;eO=v.getElementById(d9);c9(eO,"load",function(){dm();e9()});var fm=bG.onresize;bG.onresize=function(fo){if(fm){fm(fo)}eZ(fo)};if(!dY){var fl=v.onmouseout;v.onmouseout=function(fo){if(fl){fl(fo)}if(!O()){q("ShowLimit: Beta Test off, check cursor usually");ez(fo)}else{q("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!eB()&&!dF()){q("ShowLimit: Check cursor allowed");ez(fo,true)}}}}var fn=bG.onhashchange;bG.onhashchange=function(){if(fn){fn.apply(this,arguments)}dj()}};var ek=function(fm){var fl=v.getElementsByClassName(fm);if(fl.length>0){return fl[0]}else{return null}};var eg=function(){var fo=ek("roistat-lh-title");if(fo&&roistat.leadHunter.form.title){fo.innerHTML=roistat.leadHunter.form.title}var fm=ek("roistat-lh-sub-title");if(fm&&roistat.leadHunter.form.subTitle){fm.innerHTML=roistat.leadHunter.form.subTitle}var fn=ek("roistat-lh-thank-you");if(fn&&roistat.leadHunter.form.thankYouText){fn.innerHTML=roistat.leadHunter.form.thankYouText}var fq=ek("roistat-lh-submit");if(fq&&roistat.leadHunter.form.buttonText){fq.value=roistat.leadHunter.form.buttonText}var fp=ek("roistat-lh-text-label-name");if(fp&&roistat.leadHunter.form.nameLabel){fp.innerHTML=roistat.leadHunter.form.nameLabel}var fl=ek("roistat-lh-text-label-contact");if(fl&&roistat.leadHunter.form.contactLabel){fl.innerHTML=roistat.leadHunter.form.contactLabel}};var dD=function(fm,fq,fp){var fl;if(!fm){q("LeadHunter: deactivating, empty form")}else{q("LeadHunter: rendering hidden form")}eD=v.createElement("div");eo=v.createElement("div");eo.innerHTML=fm;eD.className=dX;eo.className=dX;if(fq&&cN&&fp&&!cY()){var fn=typeof fp.position==="string"&&fp.position!==""?fp.position:"bottomRight";fl=v.createElement("div");fl.innerHTML=fq;dH=fl.childNodes.item(0);eV=dH.childNodes.item(1);eh=dH.childNodes.item(2).childNodes.item(0);eV.setAttribute("style","background: "+fp.button.background+";");eh.setAttribute("style","fill: "+fp.button.color+";");dH.setAttribute("style","bottom: "+ff[fn].bottom+";right:"+ff[fn].right+";");fa.pulsator.previousClass=dH.className;dH.className=dX;v.body.appendChild(dH)}v.body.appendChild(eD);v.body.appendChild(eo);dN=v.getElementById(dO);fg=v.getElementById(dA);fb=v.getElementById(ef);eR=v.getElementById(dg);fe=v.getElementById(dh);dq=v.getElementById(e2);eA=v.getElementById(fh);e8=v.getElementById(eQ);ei=v.getElementById(da);d8=v.getElementById(eW);dt=v.getElementById(en);var fo=ek(dC);dL=fo&&fo.getAttribute("data-is-iframe");if(dL){fd()}else{eg();eU();dj();e9()}};var fc=function(fn){var fm=fn.button&&fn.button.background&&fn.button.color;if(typeof dH==="undefined"||!fm){return}bD.setObject(c1,d0);var fl=typeof fn.position==="string"&&fn.position!==""?fn.position:"bottomRight";eV.setAttribute("style","background: "+fn.button.background+";");eh.setAttribute("style","fill: "+fn.button.color+";");dH.setAttribute("style","bottom: "+ff[fl].bottom+";right:"+ff[fl].right+";")};var dr=function(){var fl=bD.get(c2),fn=bD.get(c6),fm=bD.getObject(c1);dD(bI.decode(fl),bI.decode(fn),fm)};var d2=function(){var fm=eo.clientWidth,fl=eo.clientHeight;eo.setAttribute("style",eo.getAttribute("style")+" width: "+fm+"px; height: "+fl+"px;");if(fg!==null){fg.className=dX}if(dN!==null){dN.className=dX}if(dq!==null){dq.className=dX}if(fb!==null){fb.setAttribute("style","width: "+fm+"px; height: "+fl+"px; display: table-cell;");fb.className=dw}setTimeout(function(){q("LeadHunter: close form after timeout");el()},7000)};var eC=function(){var fm=Math.round((eP()-eo.clientHeight)/2);var fl=Math.round((fk()-eo.clientWidth)/2);eo.setAttribute("style","left: "+fl+"px; top: "+Math.max(0,fm)+"px;")};var dk=function(fm){if(bG.roistat.leadHunter.onBeforeAppear){q("LeadHunter: process user defined onBeforeAppear");bG.roistat.leadHunter.onBeforeAppear(fm);if(dL){ev()}}eo.setAttribute("style","left:20px;top:-20px;opacity:0");eD.className=eE;eo.className=ee;if(fg!==null){fg.className=e0}if(dN!==null){dN.className=e3}if(dq!==null){dq.className=ea}if(fb!==null){fb.setAttribute("style","");fb.className=dX}eD.setAttribute("style","opacity:0;");dx=true;setTimeout(function(){eD.setAttribute("style","opacity:.5;")},10);var fn=h(bz),fl=dW+"?visit_id="+fn;G(fl);if(bG.roistat.leadHunter.onAfterAppear){q("LeadHunter: process user defined onAfterAppear");bG.roistat.leadHunter.onAfterAppear(fn,eD,eo,fg);if(dL){ev()}}};var eH=function em(){dJ=bH();dr();q("LeadHunter: form initialized")};var e9=function d5(){q("LeadHunter: tuning appearance for page");if(!bf(bD.get(d1))||(bD.get(ax)&&!bD.get(J))){q("LeadHunter: disabled on page");fa.leave.isShowEnabled=false;clearTimeout(fa.timeoutId);if(cY()){cI=false;cU()}if(dH){dH.className=dX}}else{q("LeadHunter: enabled on page");if(!d3()&&!O()){q("ShowLimit: Beta Test off, bindShowOnTimeout usually");fa.leave.isShowEnabled=true;d4()}if(O()){q("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!eB()&&!dF()){q("ShowLimit: bindShowOnTimeout allowed");
fa.leave.isShowEnabled=true;d4()}}if(dH){dH.className=fa.pulsator.previousClass}}};var dP=function ey(){q("LeadHunter: processing single page application state change");dJ=bH();e9()};var eN=function ec(){ae(dP);Q(bG,"resize",function(){var fm=600,fo=350,fp=bG.innerWidth,fn={};if(fp<fm&&fp>fo){fn={isMobileMarkup:true,isMobileMarkupXs:false};eO.contentWindow.postMessage({sizeSettings:fn,message:eF},dT);return}if(fp<fo){fn={isMobileMarkup:false,isMobileMarkupXs:true};eO.contentWindow.postMessage({sizeSettings:fn,message:eF},dT);return}fn={isMobileMarkup:false,isMobileMarkupXs:false};eO.contentWindow.postMessage({sizeSettings:fn,message:eF},dT)});Q(bG,"message",function fl(fr){var fq=typeof fr.data==="string"?fr.data:fr.data.message;if(fq===eG){eY=fr.data.scriptId;dQ=fr.data.showsLimit;var fo=bD.getObject(m)!==null;if(fo){e1=fr.data.leadHunterAutoShowTime;e6=fr.data.leadHunterMinTime;e6=fr.data.leadHunterMinTime;d0=fr.data.leadHunterPulsatorSettings;bD.set(ew,e6);bD.set(dS,e1);if(d0){bD.set(et,Number(d0.isEnabled));fc(d0)}}q("ShowLimit: Get lhScriptId: "+fr.data.leadHunterId+" and lhScriptMaxShownCount: "+fr.data.leadHunterMaxShownCount+" from lh widget");es()}if(fq===dB){el()}if(fq===eF){eO.setAttribute("style","width: "+fr.data.width+"px !important; height: "+fr.data.height+"px !important;");eZ(fr)}if(fq===eX){var fs=fr.data.caughtLeadData;if(bG.roistat.leadHunter.onBeforeSubmit){q("LeadHunter: process user defined onBeforeSubmit");var fn=bG.roistat.leadHunter.onBeforeSubmit(fs);if(fn){fs=fn}}if(!O()){q("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");dn()}else{q("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");eu()}var fm=bD.getObject(bS);var fp=fm!==null;var ft=fp&&fs.isNeedCallback===null&&!z(fm);if(ft){fs.isNeedCallback=0}eO.contentWindow.postMessage({caughtLead:fs,message:eq},dT)}if(fq===e5){if(bG.roistat.leadHunter.onAfterSubmit){q("LeadHunter: process user defined onAfterSubmit");bG.roistat.leadHunter.onAfterSubmit({name:fr.data.name,phone:fr.data.phone})}}})};function ev(){var fl={apiData:bG.roistat.leadHunter.form,message:eJ};eO.contentWindow.postMessage(fl,dT)}function es(){if(!eI()){return}var fl=bD.getObject(m)!==null;if(fl){dp()}if(!dV()){return}q("LeadHunter: activated");eH();e9();eN()}function eP(){return(bG.innerHeight?bG.innerHeight:v.documentElement.clientHeight==0?v.body.clientHeight:v.documentElement.clientHeight)}function fk(){return(bG.innerWidth?bG.innerWidth:v.documentElement.clientWidth==0?v.body.clientWidth:v.documentElement.clientWidth)}function ez(fo,fl){fo=fo||event;dK=fo.clientY;var fm=dK/eP(),fq=dE>0&&dE>fm,fn=fm<dG,fp=(bH()-dJ)>e7*1000;if(fq&&fn&&!dx&&fp&&fa.leave.isShowEnabled&&!d3()){q("LeadHunter: show modal with because move up ("+dE+" -> "+fm+") and in modal zone and show on leave enabled");dk("exit");dm(fl);ed(fo)}if(fm<du){dE=fm}}function eZ(fl){if(dl){eC()}else{fl=fl||event;ed(fl)}}function ed(fq){var fm=fq.type==="message"?fq.data.width:eo.offsetWidth;var fn=fk();var fl=fq.clientX-Math.round(fm/2)||eo.offsetLeft;fl=Math.max(20,Math.min(fl,fn-fm-20));var fr=fl+fm>fn-40;if(fr){var fo=(fl+fm-20)-(fn-40);fl=fl-fo}var fp=fn-40>fm?"":"width: "+(fm-40)+"px;";eo.setAttribute("style","left: "+fl+"px; top: 0px; "+fp)}function dn(){bG.roistatSetCookie(dv,1,ca)}function el(){if(!O()){q("ShowLimit: Beta Test off, setCookieLeadHunterCaught");dn()}eD.setAttribute("style","opacity:0");eo.style.top="-"+eo.offsetHeight*2+"px";setTimeout(function(){eo.className=eD.className=dX},500)}function dZ(){var fz=v.getElementById("roistat-lh-phone-input"),fn=v.getElementById("roistat-lh-name-input"),fp,fx;fp=fz===null?"":fz.value;fx=fn===null?"":fn.value;var fu={name:fx,phone:fp,isNeedCallback:null,callbackPhone:null,fields:{}};if(bG.roistat.leadHunter.onBeforeSubmit){q("LeadHunter: process user defined onBeforeSubmit");var fq=bG.roistat.leadHunter.onBeforeSubmit(fu);if(fq){fu=fq}}var fw=fu.phone.length<1;var fy=fu.phone.indexOf("_")===-1;var fs=!fw&&fy;var fv=fu.name.length<1;var fm=!fv||!bG.roistat.leadHunter.form.isNameRequired;if(!fs){fz.setAttribute("style","border: 2px solid #E0571A;");return}if(!fm){fn.setAttribute("style","border: 2px solid #E0571A;");return}var fl=de+"?v="+I+"&lead-hunt-input="+encodeURIComponent(fu.phone)+"&lead-name="+encodeURIComponent(fu.name)+"&visit="+bV();if(fu.isNeedCallback!==null&&fu.isNeedCallback!==bc){fl=fl+"&is_need_callback="+(fu.isNeedCallback>0?1:0)}if(fu.callbackPhone){fl=fl+"&callback_phone="+fu.callbackPhone}if(bG.roistat.leadHunter.additionalNotifyEmail!==null){fl=fl+"&additional_email="+encodeURIComponent(bG.roistat.leadHunter.additionalNotifyEmail)}var fo=0;if(fu.fields&&typeof fu.fields==="object"){for(var fr in fu.fields){if(fu.fields.hasOwnProperty(fr)){++fo}}}if(fo>0){fl=fl+"&fields="+e4(JSON.stringify(fu.fields))}fl=fl+"&t="+bH();var ft=v.createElement("img");ft.src=fl;fz.setAttribute("style","");if(!O()){q("ShowLimit: Beta Test off, caught LH usually");dn()}else{q("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");
eu()}if(fb===null){el();dU()}else{d2()}if(bG.roistat.leadHunter.onAfterSubmit){q("LeadHunter: process user defined onAfterSubmit");bG.roistat.leadHunter.onAfterSubmit({name:fx,phone:fp})}}function eb(fl){if(fl.preventDefault){fl.preventDefault()}else{fl.returnValue=false}ei.style.display==="block"?ei.style.display="none":ei.setAttribute("style","display: block; padding: 0 30px; width:"+eo.clientWidth+"px;");eZ()}function fj(){fe.disabled===true?fe.disabled=false:fe.disabled=true;d8.style.display==="block"?d8.style.display="none":d8.style.display="block"}function dU(){v.onmousemove=null;eD.onresize=null}var dR=function(fr,fu){if(!fr||!fu){q("LeadHunter: skip phone mask render due to empty input or mask");return}q("LeadHunter: render phone mask "+fu+" for input: "+fr.value);if(bG.roistatRenderPhoneMaskMutex){return}bG.roistatRenderPhoneMaskMutex=true;var fo="_",fn="x",fq="",fp=fu.toLowerCase().split(fn).join(fo).split(fq).join(fo);var fm=function(fv){if(fr.setSelectionRange){fr.setSelectionRange(fv,fv)}else{if(fr.createTextRange){var fw=fr.createTextRange();fw.collapse(true);fw.moveEnd("character",fv);fw.moveStart("character",fv);fw.select()}}};var fs=function(fv){if(!fv){return 0}var fw=fv.indexOf(fo);if(fw<0){return fv.length}return fw};var ft=function(fv){fm(fs(fv))};var fl=function(fE){var fF=fp.split("");if(!fE){return fp}var fv=fE.split("");var fG=[],fD,fA,fC,fz,fx,fw,fB;for(var fy=0;fy<fF.length;fy++){fA=fF[fy];if(fy>=fv.length){fG.push(fA);continue}fx=((fy+1)<fF.length)?fF[fy+1]:null;fw=((fy+1)<fv.length)?fv[fy+1]:null;fB=((fy+2)<fv.length)?fv[fy+2]:null;fD=fv[fy];fC=parseInt(fD)>=0;fz=(fA===fo)&&fC;if(!fz){fG.push(fA);continue}if(fw===fo&&fx!==fo&&fB!==fx){fG.push(fA);continue}fG.push(fD)}return fG.join("")};setTimeout(function(){var fv=fl(fr.value);if(fr.value!==fv){fr.value=fv}ft(fv);bG.roistatRenderPhoneMaskMutex=false},1)};var eM=function(fl,fn,fm){bD.set(c2,bI.encode(fl));bD.set(c6,bI.encode(fn));bD.setObject(c1,fm)};var er=function(fl){ej=fl;if(eO===bc){return}db()};var db=function(){var fl={language:ej,message:eK};eO.contentWindow.postMessage(fl,dT)};var eu=function(){q("ShowLimit: Start set roistat_leadHunterScriptsCaught");var fl=dy(dM);if(!fl){fl={}}q("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");fl[eY]=1;eL(dM,fl)};var df=function(){q("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var fm=dy(fi);if(!fm){fm={}}var fn=fm.hasOwnProperty(eY);if(!fn){q("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");fm[eY]=0}var fl=fm[eY]+1>dQ;if(fl){q("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}q("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");fm[eY]+=1;eL(fi,fm)};var eL=function(fl,fm){cw(fl,JSON.stringify(fm),ca)};var dy=function(fl){var fm=h(fl);if(typeof fm!=="undefined"){return JSON.parse(fm)}return fm};var dF=function(){if(dQ===0){q("ShowLimit: show limit off and set to 0");return false}var fl=dy(fi),fm=fl?fl[eY]:null,fn=fm+1>dQ;q("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+fn);return fn};var eB=function(){var fn=dy(dM),fl=fn?fn[eY]:null,fm=fl===1;q("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+fm);return fm};var dp=function(){bD.set(ax,di());bD.set(c2,bI.encode(ex()));bD.set(d1,dz())};var ex=function(){var fl=aL()+"//"+r+"/api/site/1.0/"+aG()+"/leadhunter/script/"+bD.get(ax)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+fl+'" frameborder="0"></iframe></div>'};var di=function(){var fl=bD.getObject(m);if(fl===null){return}bD.set(J,"");var fp=Number(bD.get(bd));var fs=Object.keys(fl);var fq=fs.sort()[0];if(!fp){return fq}for(var fo=0;fo<fs.length;fo++){var ft=fl[fs[fo]];var fr=ft.targetPageList;var fn=bf(fr.join(","));var fm=fr.length===0;if(fm||fn){if(!ft.timetable.isEnabled||z(ft.timetable)){fq=fs[fo];bD.set(J,fq)}}}return fq};var dz=function(){var fl=bD.get(ax);var fm=JSON.parse(bD.get(m));return fm[fl]?fm[fl].targetPageList.join(","):""};bT(es);bG.roistatLeadHunterShow=d6;bG.roistatRenderPhoneMask=dR;bG.roistat.leadHunter.localization.translateToRussian=function(){er(eT)};bG.roistat.leadHunter.localization.translateToEnglish=function(){er(dd)}},multiwidget:function(){var dH="roistat-multiwidget-hidden",dN="roistat-multiwidget-pulsator-phone",dL="roistat-multiwidget-pulsator-popup-item-lead-hunter",dq="roistat-multiwidget-pulsator-fill",dP="roistat-multiwidget-pulsator-fill-svg",dz="roistat-multiwidget-pulsator-img-icon",dp="roistat-multiwidget-pulsator-popup-item-chat",dd="roistat-multiwidget-pulsator-popup-item-facebook",dg="roistat-multiwidget-pulsator-popup-item-vk",dy="roistat-multiwidget-pulsator-popup-item-telegram",dD="roistat-multiwidget-pulsator-items-popup-holder",di="roistat-multiwidget-pulsator-popup-tail";var dn,dC,du,dM,da,df,dO,dw,dk,dc,dl,de;
var dK={topLeft:{bottom:"unset",right:"unset",top:"20px",left:"35px"},topRight:{bottom:"unset",right:"35px",top:"20px",left:"unset"},bottomRight:{bottom:"20px",right:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:"20px",right:"unset",top:"unset",left:"35px"}};var dh={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var dt={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function dG(dR){q("Multiwidget: "+dR)}function dx(){dC=dn.getElementsByClassName(dN)[0];du=dn.getElementsByClassName(dD)[0];dM=dn.getElementsByClassName(di)[0];dw=du.getElementsByClassName(dL)[0];dk=du.getElementsByClassName(dp)[0];dc=du.getElementsByClassName(dg)[0];dl=du.getElementsByClassName(dd)[0];de=du.getElementsByClassName(dy)[0];da=dC.getElementsByClassName(dq)[0];df=dC.getElementsByClassName(dP);dO=dC.getElementsByClassName(dz)[0]}function dr(){du.classList.toggle(dH)}function dQ(){dG("add pulsator events");c9(dC,"click",function(){dr()});c9(dw,"click",function(){dG("opening leadhunter via multiwidget");bG.roistatLeadHunterShow();dr()});c9(dk,"click",function(){dG("opening online chat via multiwidget");bG.roistatOnlineChatShow();dr()});c9(dc,"click",function(){bG.open(bD.get(b5),"_blank")});c9(dl,"click",function(){bG.open(bD.get(co),"_blank")});c9(de,"click",function(){bG.open(bD.get(a0),"_blank")})}function dA(){dw.classList.add(dH)}function dv(){dG("hiding disabled multiwidget options");var dR=Number(bD.get(bd)),dS=Number(bD.get(b3)),dT=Number(bD.get(br)),dU=Number(bD.get(D)),dV=Number(bD.get(bU));if(!dR||!cN||!cI){dG("hiding leadhunter option");dw.classList.add(dH)}if(!dS){dG("hiding online chat option");dk.classList.add(dH)}if(!dT){dG("hiding vk-messenger option");dc.classList.add(dH)}if(!dU){dG("hiding fb-messenger option");dl.classList.add(dH)}if(!dV){dG("hiding telegram-messenger option");de.classList.add(dH)}}function db(){var dS=bD.getObject(cP);dG("start filling pulsator");if(dS){da.setAttribute("style","background: "+dS.button_color+";");dO.setAttribute("style","fill: "+dS.icon_color+";");for(var dR=0;dR<df.length;dR++){df[dR].setAttribute("style","fill: "+dS.button_color+";")}}}function dE(){var dR=bD.getObject(cP);return typeof dR.position==="string"&&dR.position!==""?dR.position:"bottomRight"}function dB(){var dR=dE();dn.setAttribute("style","top: "+dK[dR].top+";right:"+dK[dR].right+";bottom:"+dK[dR].bottom+";left:"+dK[dR].left+";")}function ds(){var dR=dE();var dS=dR==="topLeft"||dR==="bottomLeft"?"margin-right":"margin-left";dC.setAttribute("style",dS+": auto")}function dF(){var dR=dE();du.setAttribute("style","top: "+dh[dR].top+";right:"+dh[dR].right+";bottom:"+dh[dR].bottom+";left:"+dh[dR].left+";")}function dj(){var dR=dE();dM.setAttribute("style","top: "+dt[dR].top+";right:"+dt[dR].right+";bottom:"+dt[dR].bottom+";left:"+dt[dR].left+";border-top-color:"+dt[dR]["border-top-color"]+";border-right-color:"+dt[dR]["border-right-color"]+";border-bottom-color:"+dt[dR]["border-bottom-color"]+";border-left-color:"+dt[dR]["border-left-color"]+";")}function dI(){dB();ds();dF();dj()}function dm(){var dS=bI.decode(bD.get(cT));if(dS){dG("appending multiwidget pulsator");var dR=v.createElement("div");dR.innerHTML=dS;dn=dR.childNodes.item(0);v.body.appendChild(dn);dx();dv();db();dI();dQ()}}function dJ(){dG("activated");dm()}cU=dA;bT(dJ)},onlineChat:function(){var dN="iframe-module-created",dO="iframe-online-chat-opened",dC="iframe-online-chat-invite-message",dQ="roistat-online-chat-init",db="roistat-online-chat-reload",ec="roistat-online-chat-update-custom-params",eb="roistat_chat_id",dB="roistat_chat_session",dc="roistat_chat_custom_position",dv,dz,dj,d2,dJ,ee,d7,d5;var dd="roistat-online-chat-popup-iframe",dY="roistat-online-chat-hidden",eg="roistat-online-chat-popup-wrapper",ef="roistat-online-chat-popup-wrapper-hidden",dH="roistat-online-chat-popup-mouse-track",dV="roistat-online-chat-popup-mouse-track-active",dT="roistat-online-chat-pulsator-fill",di="roistat-online-chat-pulsator-img",dG="roistat-online-chat-pulsator-phone",dD="roistat-online-chat-pulsator-fill-svg",ds=".roistat-multiwidget-pulsator-items-popup",dm=".roistat-online-chat-pulsator-phone",dU=".roistat-online-chat-popup-wrapper";
var dW=false,dx=false,dy=0,dZ=0;var dS=cY()?".roistat-multiwidget-pulsator-holder":".roistat-online-chat-holder";var dp;var d3={topLeft:{top:"130px",right:"unset",bottom:"20px",left:"30px"},topRight:{top:"130px",right:"30px",bottom:"20px",left:"unset"},bottomRight:{top:"20px",right:"30px",bottom:"130px",left:"unset"},bottomLeft:{top:"20px",right:"unset",bottom:"130px",left:"30px"}};var dr={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var dl=function(ei){q("onlineChat: "+ei)};var d9=function(){function ei(){return Math.random().toString(36).substr(2,8)}return ei()+ei()+ei()+ei()};var dR=function(){var ei=bD.get(dB);if(!ei){ei=d9();bD.set(dB,ei)}return ei};var d1=function(){var ei={message:dN,detail:{version:I,projectKey:aG(),visitId:bV(),chatId:h(eb),moduleTargetOrigin:bG.location.origin,referrer:bG.location.href,params:c4,sessionUniqueKey:dR()}};dJ.contentWindow.postMessage(ei,dJ.src)};var dF=function(){var ei={message:dO,detail:{isOpened:dL()}};dJ.contentWindow.postMessage(ei,dJ.src)};var dI=function(){var ei={message:ec,detail:{params:c4}};dJ.contentWindow.postMessage(ei,dJ.src)};var d0=function(){Q(bG,"message",function ei(el){var ek=typeof el.data==="string"?el.data:el.data.message;var ej=typeof el.data!=="string"?el.data.detail:{};dl("event: "+ek+" "+JSON.stringify(ej));switch(ek){case dN:d1();break;case dQ:dl("saving chat id = "+ej.chatId);cw(eb,ej.chatId,{path:"/"});break;case dC:dl("rendering invite message");dA(ej.message);break}})};var ed=function(){var ej=bG.roistat.onlineChat.notificationsCustomHolderSelector;var ei=ej!==null;return v.querySelectorAll(ei?ej:dS)[0]};var dA=function(ep){if(dL()){return}var ek="<div class='roistat-online-chat-message'><img src='"+ep.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+ep.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+ep.text+"</div></div><div class='roistat-online-chat-message-close'></div></div>";var eo=v.createElement("div");eo.innerHTML=ek;var en=ed();var eq=dg()?"beforeend":"afterbegin";en.insertAdjacentHTML(eq,ek);var em=en.getElementsByClassName("roistat-online-chat-message-close");var ei=en.getElementsByClassName("roistat-online-chat-message");var el=em[dg()?em.length-1:0];var ej=ei[dg()?em.length-1:0];setTimeout(function(){ej.remove()},15000);c9(ej,"click",function(er){er.stopPropagation();if(!dL()){dh()}dM()});c9(el,"click",function(er){er.stopPropagation();ej.remove()})};var dM=function(){var ej=ed();var ei=ej.getElementsByClassName("roistat-online-chat-message");while(ei.length>0){ei[0].remove()}};var du=function(){dJ=v.getElementById(dd);c9(dJ,"load",function(){dn()});c9(v,"click",function(ej){var ei=bG.roistat.onlineChat.customTriggerSelector;if(dL()&&(ej.target.closest(ds)===null&&ej.target.closest(dU)===null&&ej.target.closest(dm)===null&&(ei?ej.target.closest(ei)===null:true))){dh()}})};var d8=function(ek){var ej=dj.getBoundingClientRect().x;var ei=dj.getBoundingClientRect().y;dx=true;dt();dy=ek.pageX-ej;if(dg()){dZ=ek.pageY+ei}else{dZ=ek.pageY-ei}};var dk=function(){dx=false;dP();dw()};var dt=function(){dz.classList.add(dV)};var dP=function(){dz.classList.remove(dV)};var dE=function(eq){if(dx){var ei=dj.getBoundingClientRect();var ep=ei.width;var eo=400;var ej=50;var et=0;var el=bG.innerHeight-eo;var er=eq.pageX-dy;var en=ej;var ek=bG.innerWidth-ej-ep;if(dg()){et=bG.innerHeight-(eq.pageY+ei.y)-20}else{et=eq.pageY-dZ}var es=d4();var em=es==="bottomLeft"||es==="bottomRight"?"top":"bottom";if(er>=en&&er<=ek){dj.style.left=er+"px";if(!dX()){dj.style.right="unset"}}if(et>=50&&et<=el){dj.style[em]=et+"px"}}};var dw=function(){var ei={position:d4(),top:dj.style.top,left:dj.style.left,bottom:dj.style.bottom,right:dj.style.right};bD.setObject(dc,ei)};var d4=function(){var ei=bD.getObject(cP);var ej=typeof ei.position==="string"&&ei.position!==""&&cY();return ej?ei.position:"bottomRight"};var dg=function(){var ei=d4();return ei==="topLeft"||ei==="topRight"};var dX=function(){var ei=d4();return ei==="topLeft"||ei==="bottomLeft"};var df=function(){var ei=d4();var el=bG.roistat.onlineChat.customPosition;var ej=el&&el.top!==null?el.top:d3[ei].top;var em=el&&el.right!==null?el.right:d3[ei].right;var en=el&&el.bottom!==null?el.bottom:d3[ei].bottom;var ek=el&&el.left!==null?el.left:d3[ei].left;dj=dv.getElementsByClassName(eg)[0];dj.classList.toggle(ef);dj.setAttribute("style","top: "+ej+";right:"+em+";bottom:"+en+";left:"+ek+";")};var de=function(){var ei=d4();dz.setAttribute("style","top: "+dr[ei].top+";bottom:"+dr[ei].bottom+";height:"+dr[ei].height+";")};var dK=function(){dl("iframe appending to page");var ei=bI.decode(bD.get(cR));dv=v.createElement("div");
dv.innerHTML=ei;v.body.appendChild(dv);dz=v.getElementsByClassName(dH)[0];df();du()};var da=function(){var ej=bD.getObject(cP);dl("start filling pulsator");if(ej){ee.setAttribute("style","background: "+ej.button_color+";");d7.setAttribute("style","fill: "+ej.icon_color+";");for(var ei=0;ei<d5.length;ei++){d5[ei].setAttribute("style","fill: "+ej.button_color+";")}}};var ea=function(){var ej=bI.decode(bD.get(cO));if(ej&&!cY()&&!bG.roistatOnlineChatOnly){dl("pulsator appending to page");var ei=v.createElement("div");ei.innerHTML=ej;dp=ei.childNodes.item(0);ee=dp.getElementsByClassName(dT)[0];d7=dp.getElementsByClassName(di)[0];d2=dp.getElementsByClassName(dG)[0];d5=v.getElementsByClassName(dD);v.body.appendChild(dp);eh();da()}};var eh=function(){c9(dp,"click",function(){dh()})};var dL=function(){return !dj.classList.contains(ef)};var dh=function(){setTimeout(function(){dx=false},3000);dj.classList.toggle(ef);if(dL()){dM()}dF()};var dn=function(){dW=true;bG.roistatOnlineChatShow=dh;dl("chat window initialized")};function dq(ei){c4=ei;dI()}function d6(){ea();dK();d0()}bG.setRoistatOnlineChatCustomParams=dq;bT(d6)}};function c0(da){q("Widgets: "+da)}function cH(da){return da!==c8}function cJ(da){c4=da}function cY(){var dd=Number(bD.get(bd)),dc=Number(bD.get(aM)),de=Number(bD.get(b3)),df=Number(bD.get(br)),dg=Number(bD.get(D)),dh=Number(bD.get(bU)),db=dd&&!de&&!df&&!dg&&!dh,da=de&&!dd&&!df&&!dg&&!dh;return dc&&!da&&!db&&!bG.roistatOnlineChatOnly}function cU(){c0("Multiwidget disabled. Hide leadhunter pulsator from module")}function cL(da,dc,db){bD.set(c2,bI.encode(da));bD.set(c6,bI.encode(dc));bD.setObject(c1,db)}function cS(db,da){bD.set(cT,bI.encode(db));bD.setObject(cP,da)}function cQ(dc,da,db){bD.set(cO,bI.encode(dc));bD.set(cR,bI.encode(da));bD.set(b3,db)}function cW(da,dc,db){cL(da,dc,db);bD.set(cT,bI.encode(c8));bD.set(cR,bI.encode(c8));cZ=false;c5.leadHunter()}function cK(dl,dh,df){var dc=dl.form_template,dm=dl.pulsator_template,de=dl.pulsator_settings;if(cX()){cW(dc,dm,de);return}c0("start initing widgets");var di=df.pulsator_template,dd=df.iframe_template,dk=dh.pulsator_template,da=dh.pulsator_settings,dg=Number(bD.get(bd)),db=Number(df.settings.is_enabled),dj=bD.getObject(m)!==null;cL(dc,dm,de);cS(dk,da);cQ(di,dd,db);if(dj){bD.set(c2,bI.encode(cM()))}cZ=true;if(dg&&!bG.roistatOnlineChatOnly){c0("leadhunter enabled. Start processing");c5.leadHunter()}if(db){c0("online chat enabled. Start processing");c5.onlineChat()}if(cY()){c0("multiwidget enabled. Start processing");c5.multiwidget()}}var cM=function(){var da=aL()+"//"+r+"/api/site/1.0/"+aG()+"/leadhunter/script/"+bD.get(ax)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+da+'" frameborder="0"></iframe></div>'};function c7(){var dc=bD.get(c2),dm=bD.get(c6),de=bD.getObject(c1),dh=bD.get(cO),dd=bD.get(cR),db=bD.get(b3),dj=bD.get(cT),da=bD.getObject(cP);bG.roistatLeadhunterForm=cW;bG.roistatMultiwidget=cK;if(!dc||!dm||!de||!dj||!da||!dh){c0("requesting data from server");ay(aL()+"//"+r+"/api/site/"+R+"/"+aG()+"/multiwidget?domain="+encodeURIComponent(v.domain))}else{var dl=bI.decode(dj);var di=bI.decode(dd);if((!cH(dl)||!cH(di)||cX())&&!bG.roistatOnlineChatOnly){c0("initing LeadHunter form");bG.roistatLeadhunterForm(bI.decode(dc),bI.decode(dm),de)}else{c0("initing multiwidget form");var df={pulsator_template:dl,pulsator_settings:da},dg={form_template:bI.decode(dc),pulsator_template:bI.decode(dm),pulsator_settings:de},dk={iframe_template:di,pulsator_template:bI.decode(dh),settings:{is_enabled:Number(db),},};bG.roistatMultiwidget(dg,df,dk)}}}function cX(){var db=aG()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||aG()==="4",da=bG.location.host==="cloud.roistat.com"&&bG.location.pathname!=="/user/login"&&bG.location.pathname!=="/user/register";if((db&&!da)||(aG()==="489852fc24e99416c9e7336f08ba22dc"&&bG.location.host==="q92571df.beget.tech")){c0("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false}function cV(){c7();c0("Widgets: form initialized")}function c3(){c0("activated");cV()}bT(c3);bG.setRoistatOnlineChatCustomParams=cJ;bG.roistatSaveLeadHunterTemplates=cL;bG.roistatSaveMultiwidgetTemplate=cS;bG.roistatSaveOnlineChatTemplate=cQ})();(function p(){var cU=function(){return h(cC)};var cS=function(){return bD.get(aU)};var cL=function(){return bD.get(a5)};var cY=function(c0){return c0!=null&&c0!==bc&&c0!==""};var cX=function(){var c0=[];var c1=v.getElementsByClassName(Y);if(c1&&c1.length){c0=c1}return c0};var cJ=function(){var c0=[];var c1=v.getElementsByClassName(u);if(c1&&c1.length){c0=c1}return c0};var cI=function(){var c0=[];var c1=v.getElementsByClassName(T);if(c1&&c1.length){c0=c1}return c0};var cN=function(){var c0=[];var c1=v.getElementsByClassName(x);if(c1&&c1.length){c0=c1}return c0};var cQ=function(){var c0=[];var c1=v.getElementsByClassName(cv);if(c1&&c1.length){c0=c1}return c0};var cH=function(dd,c1){q("CallTracking: RenderPhone phone = "+dd);
var c6=function(df){return df.split(/[^0-9]/).join("")};var c7=function(di,dk){var dn=null;if(!di){return dn}var df=dk.split(",");if(df.length<2){dn=dk}else{var dg=di.getAttribute("data-prefix");if(dg){for(var dj=0;dj<df.length;dj++){var dl=df[dj];var dm=c6(dl);if(dm.indexOf("8")===0){dm="7"+dm.substring(1)}var dh=dm.split(dg)[0]==="";if(dh){dn=dl;break}}}if(dn===null){dn=df[0]}q("CallTracking._getPhoneForElement: Prepared phone = "+dn+" for data-prefix = "+dg)}return dn};var c4=function(dj,dh){var df=c7(dj,dh);if(!df||!dj){return}if(dj.tagName.toLowerCase()!=="a"){return}var di=dj.getAttribute("href");if(cm(di,"tel:")){var dg=c6(df);if(dg.indexOf("8")===0){dg="7"+dg.substring(1)}dj.setAttribute("href","tel:+"+dg);c5(dj,df)}};var c5=function(dg,df){if(!dg.hasAttribute("title")){return}dg.setAttribute("title",df)};var c9=function(dh,dg){var df=c7(dh,dg);if(!df||!dh){return}dh.innerHTML=df};var de=function(df){var dg=cX();q("CallTracking: render phone default classes for "+dg.length+" elements");o(dg,function(dh){c9(dh,df);c4(dh,df)});o(cJ(),function(di){var dh=c6(c7(di,df)).slice(0,1);c9(di,dh)});o(cI(),function(di){var dj=c7(di,df).match(/\((.*)\)/);if(dj!==null){var dh=dj[1];c9(di,dh)}});o(cN(),function(dj){var dh=c7(dj,df).match(/\)(.*)/);if(dh!==null){var dk=c6(dh[1]);var di=dk.slice(-1*dk.length,-4)+"-"+dk.slice(-4,-2)+"-"+dk.slice(-2);c9(dj,di)}});o(cQ(),function(dh){c4(dh,df)})};var dc=function(df,dk){if(!dk){return}q("CallTracking: render phone user replacement for "+dk.length+" replacements");for(var dj=0;dj<dk.length;dj++){var dm=dk[dj];if(!dm){continue}var dh=dm[0];dm=dm.substr(1);var dl=[];if(dh==="#"){var di=v.getElementById(dm);if(di!==null){dl.push(di)}}else{dl=v.getElementsByClassName(dm);c3(dm,df)}if(!dl||dl.length<1){continue}q("CallTracking: render phone for "+dm+", "+dl.length+" elements");for(var dg=0;dg<dl.length;dg++){c9(dl[dg],df);c4(dl[dg],df)}}};var c8=function(df){for(var dg=0;dg<df.length;dg++){dc(df[dg].phone,df[dg].css_selectors);db(df[dg].phone,df[dg].replaceable_numbers)}};var db=function(dh,dg){if(!dg||dg.length===0){return}var df=function(){var dt=dl();var ds=v.getElementsByTagName("*");var dm=ds.length;for(var dr=0;dr<dm;dr++){var du=ds[dr];di(du,dt,c7(du,dh));var dq=du.childNodes.length;for(var dn=0;dn<dq;dn++){var dp=du.childNodes[dn];dk(dp,dt,c7(dp,dh))}}};var di=function(dr,dq,dm){if(!dj(dr)){return}var ds=dr.getAttribute("href").replace("tel:","");var dp=dq.length;for(var dn=0;dn<dp;dn++){if(dq[dn].test(ds)){c4(dr,c7(dr,dm))}}};var dj=function(dn){if(dn.tagName.toLowerCase()!=="a"){return false}var dm=dn.getAttribute("href");return aC(dm)&&dm.indexOf("tel:")===0};var dl=function(){var dp=[];for(var dm=0;dm<dg.length;dm++){var dn="[\\s()[\\]{}\\-+.]*";var dq=dg[dm].split("").join(dn);dp.push(new RegExp("[+(]?"+dq,"g"))}return dp};var dk=function(dq,dp,dm){if(dq.nodeType!==Node.TEXT_NODE){return}for(var dn=0;dn<dp.length;dn++){if(dq.textContent&&dp[dn].test(dq.textContent)){dq.textContent=dq.textContent.replace(dp[dn],dm)}else{if(dq.innerText&&dp[dn].test(dq.innerText)){dq.innerText=dq.innerText.replace(dp[dn],dm)}}}};df()};var c3=function(dg,df){o(c2(dg+"-"+bj),function(di){var dh=c6(c7(di,df)).slice(0,1);c9(di,dh)});o(c2(dg+"-"+ar),function(di){var dj=c7(di,df).match(/\((.*)\)/);if(dj!==null){var dh=dj[1];c9(di,dh)}});o(c2(dg+"-"+aT),function(dj){var dh=c7(dj,df).match(/\)(.*)/);if(dh!==null){var dk=c6(dh[1]);var di=dk.slice(-1*dk.length,-4)+"-"+dk.slice(-4,-2)+"-"+dk.slice(-2);c9(dj,di)}});o(c2(dg+"-"+bu),function(dh){c4(dh,df)})};var c2=function(dg){var df=[];var dh=v.getElementsByClassName(dg);if(dh&&dh.length){df=dh}return df};var da=function da(){var dg=cL();if(dg){dg=dg.split("\n");for(var df=0;df<dg.length;df++){dg[df]="."+dg[df]}}if(c1 instanceof Array){c8(c1)}else{de(dd);dc(dd,dg)}};(function c0(){da();var df=[300,5000,15000];df.forEach(function(dg){setTimeout(da,dg)})})()};var cK=function(c0){bD.save(k,c0,ca)};var cT=function(){if(bG.roistat.callTracking.phone){var c0={expires:parseInt(bG.roistat.callTracking.sessionTime),path:"/"};if(ca.domain){c0.domain=ca.domain}cw(cC,bG.roistat.callTracking.phone,c0);cK(1);bD.save(a5,bG.roistat.callTracking.replacementClasses,ca);bD.save(aU,bG.roistat.callTracking.phoneScriptsJson,ca)}};var cR=function(c0,c4,c2,c1){q("CallTracking: reuse phone "+c0+" for time "+c4+" and replacements "+c2);if(!cY(c0)){q("CallTracking: new phone is invalid");roistat.callTracking.phone=null;cp();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=c0;roistat.callTracking.sessionTime=c4;roistat.callTracking.replacementClasses=c2;roistat.callTracking.phoneScriptsJson=c1;cp();cT();var c5={expires:parseInt(c4),path:"/"};if(ca.domain){c5.domain=ca.domain}cw(cC,c0,c5);bD.save(aU,c1,ca);bD.save(a5,c2,ca);var c3=cs(c1);if(c3==null){cH(c0)}else{cH(c0,c3)}};var cM=function(){q("CallTracking: request new phone");var c0=h(bz);var c4=V();var c3=c4?c4:a6;var c2=encodeURIComponent(bR);var c1=B()+"/get-phone?visit="+c0+"&marker="+(c3?c3:"")+"&prefix="+bZ+"&prefix_bind="+cD+"&phone_scripts_bind="+E+"&page="+c2;
ay(c1)};var cO=function(){bZ=bG.roistatPhonePrefix?bG.roistatPhonePrefix:"";cD=bG.roistatPhonePrefixBind?bG.roistatPhonePrefixBind:"";E=bG.roistatCalltrackingScripts&&bG.roistatCalltrackingScripts.join?bG.roistatCalltrackingScripts.join(","):"";q("CallTracking: refresh phone with prefix: "+bZ+", binding: "+cD+", scripts: "+E);cM()};var cZ=function(){var c0=bD.get(k)>0;var c1=bq.callTrackingEnabled;return c0&&c1};var cP=function(c0){cK(c0.is_enabled)};var cW=function cW(){var c0=cU();if(!cY(c0)){q("CallTracking: invalid phone "+c0+", requesting a new one");cM()}else{q("CallTracking: render phone "+c0);var c1=cs(cS());if(c1==null){cH(c0)}else{cH(c0,c1)}}};var cV=function(){q("CallTracking: init");if(bG.roistatOnlineChatOnly){q("CallTracking: Shut down because only online chat need to be inited");return}cT();if(!cZ()){q("CallTracking: disabled, skip");return}if(bq.callTrackingManual){q("CallTracking: init finish because off manual");return}cW();ae(cW)};bG.roistatCallTrackingRefresh=cO;bG.roistatRequestNewPhone=cM;bG.roistatReusePhone=cR;bG.roistatCalltrackingUpdateSettings=cP;bT(cV)})();(function t(){var cJ=function(cP){q("Emailtracking: "+cP)};var cN=function(cP,cR,cQ){bD.save(a4,cP,ca);bD.save(b,cR,ca);bD.save(bg,JSON.stringify(cQ),ca)};var cI=function(){var cP=(bG.roistat.emailtracking.email&&bG.roistat.emailtracking.trackingEmail)||at(bG.roistat.emailtracking.emails);if(bG.roistat.emailtracking.loaded&&cP){cJ("save loaded email: "+bG.roistat.emailtracking.email);cN(bG.roistat.emailtracking.email,bG.roistat.emailtracking.trackingEmail,bG.roistat.emailtracking.emails)}else{cJ("settings save skip, because not loaded");bG.roistat.emailtracking.email=bD.get(a4);bG.roistat.emailtracking.email=bG.roistat.emailtracking.email?bG.roistat.emailtracking.email:null;bG.roistat.emailtracking.email=bG.roistat.emailtracking.email==="null"?null:bG.roistat.emailtracking.email;cJ("email loaded from storage: "+bG.roistat.emailtracking.email);bG.roistat.emailtracking.trackingEmail=bD.get(b);bG.roistat.emailtracking.trackingEmail=bG.roistat.emailtracking.trackingEmail?bG.roistat.emailtracking.trackingEmail:null;bG.roistat.emailtracking.trackingEmail=bG.roistat.emailtracking.trackingEmail==="null"?null:bG.roistat.emailtracking.trackingEmail;cJ("tracking email loaded from storage: "+bG.roistat.emailtracking.trackingEmail);bG.roistat.emailtracking.emails=cs(bD.get(bg));bG.roistat.emailtracking.emails=bG.roistat.emailtracking.emails?bG.roistat.emailtracking.emails:null;cJ("emails loaded from storage: "+JSON.stringify(bG.roistat.emailtracking.emails))}};var cL=function(cP){cN(cP.email,cP.trackingEmail,cP.emails)};var cK=function(){var cP=(!!bG.roistat.emailtracking.email&&!!bG.roistat.emailtracking.trackingEmail)||at(bG.roistat.emailtracking.emails);return bG.roistat.emailtracking.enabled&&cP};var cH=function(){if(!cK()){cJ("emailtracking disabled, skip swapping");return}var cQ=function(cU,cV,cT){if(cU.href){if(cV.test(cU.href)){cU.href=cU.href.replace(cV,cT);return true}}if(cU.nodeType!==3){return false}if(cU.textContent&&cV.test(cU.textContent)){cU.textContent=cU.textContent.replace(cV,cT);return true}else{if(cU.innerText&&cV.test(cU.innerText)){cU.innerText=cU.innerText.replace(cV,cT);return true}}return false};var cP=function(cT){return cT.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var cR=function(cV,cU){var cT=!cU.match(/[a-z]/);return cT?cV.toUpperCase():cV};var cS=function(c1,c3){var c4=cP(c1);var cV=new RegExp("(^|\\s)(mailto:)?("+c4+")($|\\s|\\?)","gi");var c5=function(da,c8,c6,c7,c9){c6=c6||"";return c8+c6+cR(c3,c7)+c9};cJ("starting to replace email "+c1+" to "+c3+" with regexp "+cV);var cU=v.getElementsByTagName("*");var cX=cU.length;cJ("found "+cX+" nodes on page");var c0=0;for(var cZ=0;cZ<cX;cZ++){var cW=cU[cZ];var c2=cW.childNodes.length;if(c2>0){for(var cY=0;cY<c2;cY++){var cT=cW.childNodes[cY];if(cQ(cT,cV,c5)){c0++}}}if(cQ(cW,cV,c5)){c0++}}cJ("successfully replaced "+c0+" nodes")};if(bG.roistat.emailtracking.emails){aX(bG.roistat.emailtracking.emails,cS)}else{cS(bG.roistat.emailtracking.email,bG.roistat.emailtracking.trackingEmail)}};var cM=function(){cJ("process email swap");cH();setTimeout(function(){cH()},300);setTimeout(function(){cH()},5000);setTimeout(function(){cH()},15000)};var cO=function(){cJ("init");if(bG.roistatOnlineChatOnly){cJ("Shut down because only online chat need to be inited");return}ae(cM);cI();cM()};bG.roistatEmailtrackingUpdateSettings=cL;bG.roistat.emailtracking.refresh=cH;bT(cO)})();(function aZ(){var cK=function(cM){q("MultiDomain: "+cM)};var cJ=function(){return bD.get(cc)>0};var cI=function(cQ){var cR=function(cT){if(!cT){return false}if(cm(cT,"roistat_visit")){return false}var cS=aK(cT);var cV=aK(v.domain);var cU=new RegExp(/^((https?:)?\/\/)?([A-Z-0-9\_\-\~]+\.)+[A-Z-0-9\_\-\~]+/i);return cS!==cV&&cU.test(cT)};var cP=function(cV){var cW=cV.split("#");var cU=cW[0].split("?");var cS="";var cT="";if(cU.length===2){cS=cU[1]}if(cS){cT="&"}cS=cS+cT+"roistat_visit="+roistat.getVisit();
cU[1]=cS;cW[0]=cU.join("?");return cW.join("#")};if(cQ.tagName.toLowerCase()!=="a"){return}var cO=cQ.getAttribute("href");var cN=false;if(cR(cO)){var cM=cP(cO);cK("update url "+cO+" > "+cM);cQ.setAttribute("href",cM);cN=true}return cN};var cH=function(){if(!cJ()){cK("disabled, skip");return}var cM=v.getElementsByTagName("a");var cN=cM.length;cK("found "+cN+" <a> nodes on page");var cQ=0;for(var cO=0;cO<cN;cO++){var cP=cM[cO];if(cI(cP)){cQ++}}cK("replaced "+cQ+" nodes")};var cL=function(){cK("init");if(bG.roistatOnlineChatOnly){cK("Shut down because only online chat need to be inited");return}cH();setTimeout(function(){cH()},300);setTimeout(function(){cH()},5000);setTimeout(function(){cH()},15000)};bT(cL)})();(function ck(){var cH=60*1000;var cQ=2*60*1000;var cJ="roistat_last_settings_update_time";var cI=function(cS){q("SettingsUpdater: "+cS)};var cM=function(){return bD.get(cJ)};var cO=function(){bD.set(cJ,bH())};var cP=function(){var cT=cM();var cS=!(cT>0);cI("is first update check: lastUpdateTime="+cT+", result="+(cS?1:0));return cS};var cR=function(){var cU=bH()-cQ;var cT=cM();var cS=cT<=cU;cI("expiration check: _minTime="+cU+", lastUpdateTime="+cT+", result="+(cS?1:0));return cS};var cL=function(){var cS=h(bz);a(cS)};var cK=function(cT){cI("update settings and save last update time");var cS=bD.getObject(m)!==null;if(cS){bD.set(m,cT.js_settings.leadHunterTargetPagesMap)}bG.roistatCalltrackingUpdateSettings(cT.calltracking);bG.roistatEmailtrackingUpdateSettings(cT.emailtracking);bG.roistatSaveLeadHunterTemplates(cT.leadhunter_templates.form_template,cT.leadhunter_templates.pulsator_template,cT.leadhunter_templates.pulsator_settings);bG.roistatSaveMultiwidgetTemplate(cT.multiwidget_templates.pulsator_template,cT.multiwidget.pulsator_settings);bG.roistatSaveOnlineChatTemplate(cT.online_chat_templates.pulsator_template,cT.online_chat_templates.iframe_template);bG.roistatSaveProxyFormSettings(cT.proxy_forms);aN(cT.js_settings);cb(cT.multiwidget.multiwidget_settings);if(Number(bD.get(b3))!==Number(cT.online_chat.is_enabled)){bD.set(b3,Number(cT.online_chat.is_enabled))}bB.isSettingsUpdating=false;cO()};var cN=function(){cI("init");if(cP()){cI("in first update we just start first timer and skip");cO();return}if(!cR()){cI("update is not not expired, skip");return}cI("start to update settings");cL()};bT(function(){bG.roistatUpdateSettings=cK;setTimeout(function(){cN()},3000);cI("set interval to update settings");setInterval(function(){cN()},cH)})})();(function bn(cL,cH,cN){var cK={};var cI=function(cP){var cO=encodeURIComponent?encodeURIComponent:encodeURI;return cO(cP)};var cJ=function(cV,cP){q("Reach goal start");if(!cV){cV={}}var cS={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:bV(),is_skip_sending:0,items:"",placeholders_data:""};for(var cR in cS){if(!Object.prototype.hasOwnProperty.call(cS,cR)){continue}if(!Object.prototype.hasOwnProperty.call(cV,cR)){continue}if(!cV[cR]){continue}if(cR==="fields"||cR==="client_fields"||cR==="items"||cR==="placeholders_data"){cV[cR]=JSON.stringify(cV[cR])}cS[cR]=cI(cV[cR])}var cU=aG();var cT=aL()+"//"+r+"/api/site/"+R+"/"+cU+"/reach-goal?v=2";for(var cQ in cS){if(!Object.prototype.hasOwnProperty.call(cS,cQ)){continue}cT=cT+"&"+cQ+"="+cS[cQ]}if(cP!==cN){var cO=Math.random().toString();cK[cO]=cP;cT+="&callback_key="+cO}ay(cT);q("Reach goal completed")};var cM=cL.roistatGoal={reach:function(cP,cO){cJ(cP,cO)},callAfterReachCallback:function(cO){if(Object.prototype.hasOwnProperty.call(cK,cO)){cK[cO]();delete cK[cO]}}}})(bG,v,bc);(function cy(cJ,cH,cK){var cI=function(cP){if(cP instanceof Array||cP===null||typeof cP!=="object"){q("Invalid event data");return""}var cM=[];for(var cO in cP){if(Object.prototype.hasOwnProperty.call(cP,cO)){var cN=cP[cO];if(typeof cN==="string"||typeof cN==="number"){cM.push("data["+encodeURIComponent(cO)+"]="+encodeURIComponent(cN))}else{q("Event data property ignored: "+cO)}}}return cM.length>0?"&"+cM.join("&"):""};var cL=function(cO,cP){q("Send event start");var cM=l();var cN=B()+"/event/register?visit="+cM+"&event="+cO+cI(cP);ay(cN);q("Send event completed")};cJ.roistat.event={send:function(cM,cN){cL(cM,cN)}}})(bG,v,bc);(function bE(cR,cT,cK){if(cR.roistatOnlineChatOnly){q("VisitApprove: Shut down because only online chat need to be inited");return}var cU=cR.roistatIsInitVisit===true?20000:10000;var cJ=(new Date()).getTime();var cI=function(cY){return"approve_visit_"+cY};var cQ=function(cY){bw.set(cI(cY),1)};var cV=function(cY){return bw.get(cI(cY))>0};var cH,cM,cX=[];if(cT.addEventListener){cH=function(cZ,cY,c0){return cZ.addEventListener(cY,c0,false)};cM=function(cZ,cY,c0){return cZ.removeEventListener(cY,c0,false)}}else{cH=function(cZ,cY,c0){return cZ.attachEvent("on"+cY,c0)};cM=function(cZ,cY,c0){return cZ.detachEvent("on"+cY,c0)}}var cP=function(c1){if(cX.length>30){return}c1=c1||cR.event;if(!c1||!c1.screenX){return}var c0=(new Date()).getTime();var c3,c2=null;
if(cX.length>0){c2=cX[cX.length-1]}if(c2){c3=c0-c2.time}else{c3=c0-cJ}if(c3<300){return}c3=c3-300;var c5=0;var cY=c1.screenX;var c4=c1.screenY;if(c2){c5=parseInt(Math.sqrt(Math.pow(c2.y-c4,2)+Math.pow(c2.x-cY,2)))}var cZ={time:c0,pauseBeforeMove:c3,x:cY,y:c4,distance:c5};cX.push(cZ)};var cO=function(){var cY=[];o(cX,function(cZ){var c0=[cZ.pauseBeforeMove,cZ.distance];cY.push(c0.join(":"))});if(cY.length===0){cY.push("0:0")}return cY.join("|")};var cL=function(){for(var cY in cR){if(cm(cY,"yaCounter")){return true}}return false};var cS=function(){cM(cT,"mousemove",cP);var cY=l();q("VisitApprove: start for visit "+cY);if(cV(cY)){q("VisitApprove: visit already approved, skip");return}cQ(cY);ag();var cZ=B()+"/approve?v="+I+"&visit="+cY;if(cW()){cZ+="&hash="+aa()}if(cN()){cZ+="&page_params="+encodeURIComponent(JSON.stringify(cR.roistat.page.params));e()}cZ+="&mv="+cO();cZ+="&pl="+(cR.navigator?cR.navigator.platform:"");cZ+="&ym="+(cL()?"1":"0");ay(cZ)};var cW=function(){var c2=bB.cookies,c1=j();var c4=aQ();for(var cZ=0;cZ<c4.length;cZ++){var c3=c4[cZ];var c5=Object.prototype.hasOwnProperty.call(c2,c3)?c2[c3]:cK;var cY=Object.prototype.hasOwnProperty.call(c1,c3)?c1[c3]:cK;var c0=typeof cY==="string"&&cY.length>0;if(c0&&c5!==cY){return true}}return false};var cN=function(){var c3=bB.pageParams,c0=cR.roistat.page.params;for(var cZ=0;cZ<b0.length;cZ++){var cY=b0[cZ];var c1=Object.prototype.hasOwnProperty.call(c3,cY)?c3[cY]:null;var c2=Object.prototype.hasOwnProperty.call(c0,cY)?c0[cY]:null;if(c2!==c1){return true}}return false};setTimeout(function(){cS()},cU);cH(cT,"mousemove",cP)})(bG,v,bc);(function af(cM,cN,cI){var cK=function(){return L("roistat_ab_demo")==="1"};var cO=function(cR){return new RegExp(cR.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var cL=function(cW){var cR=cM.location.href,cU=cW.filter,c0=cW.filterValue;var cX;switch(cU){case"except":case"pages":var cS,cZ,cY=false;cZ=cR?aq(cR):"";cX=c0?c0.split("\n"):[];if(cZ&&cX.length!==0){for(var cT=0;cT<cX.length;cT++){var cV=cX[cT].trim();if(cV.length===0){continue}cS=cO(cV);if(cS.test(cZ)){cY=true;break}}}return(cU==="pages")?cY:!cY;break;case"all":default:return true}};var cH=function(cT){var cR=cN.getElementsByTagName("head")[0],cS;cS=cN.createElement("style");cS.setAttribute("type","text/css");if(cS.styleSheet){cS.styleSheet.cssText=cT.value}else{cS.innerText=cT.value}cR.appendChild(cS)};var cJ=function(cR){if(cL(cR)){switch(cR.type){case"css":cH(cR);break}}};cM.applyTests=function(){var cR=bD.getObject("abTesting");var cT,cS;for(cT in cR){if(!Object.prototype.hasOwnProperty.call(cR,cT)){continue}cS=cR[cT];cJ(cS)}};var cP=function(){q("Call: apply demo AB test");var cR=L("roistat_ab_data");var cS;if(cR===null){return}else{cS=JSON.parse(bI.decode(cR))}if(typeof cS!=="object"){q("Error: testValue is not an object.");return}cJ(cS)};function cQ(){if(cM.roistatOnlineChatOnly){q("ABTest: Shut down because only online chat need to be inited");return}var cR=cK();if(!ch&&!cR){applyTests()}if(cR){cP()}}cQ()})(bG,v,bc);(function aO(cI,cH,cJ){if(cI.roistatOnlineChatOnly){q("visitStreamNew: Shut down because only online chat need to be inited");return}if(!cj){return}setTimeout(function(){(function(cQ,cP,cT,cS,cN,cL,cO){cQ[cN]={COUNTER_ID:cL,HOST:cO};var cM=cP.location.protocol=="https:"?"https://":"http://";var cK=cP.createElement(cT);cK.async=1;cK.src=cM+cO+cS;var cR=cP.getElementsByTagName(cT)[0];cR.parentNode.insertBefore(cK,cR)})(cI,cH,"script","/counter.js","datamap",aG(),cj)},1000)})(bG,v,bc);(function bC(cJ,cH,cK){var cL=function(){var cM=cJ.roistatMetrikaCounterId;if(cM){bD.set(aA,cM)}};var cI=function(cR){var cM="yaCounter"+cR;var cQ=100,cO=0,cP=60000;var cN=function(){cO+=cQ;q("YandexMetrika: trying to access counter "+cR);if(cJ[cM]===cK){if(cO<cP){setTimeout(cN,cQ);cQ*=2}return}var cS={};cS[b7]=l();cJ[cM].params(cS);q("YandexMetrika: visit id "+cS[b7]+" sent to counter "+cR)};setTimeout(cN,cQ)};bT(function(){cL();var cO=bD.get(aA);if(!cO){q("YandexMetrika: counter id not found");return}var cN=String(cO).split(",");q("YandexMetrika: counters: "+cN);for(var cM=0;cM<cN.length;cM++){if(cN[cM].trim()===""){continue}cI(cN[cM])}})})(bG,v,bc);(function ab(cR,cV){var cZ=function(c2){q("Proxy Forms: "+c2)};var cO=function(){if(cR.roistat.proxyForms.loaded&&cR.roistat.proxyForms.settings.length>0){cZ("save loaded settings");cW(cR.roistat.proxyForms.settings)}else{cZ("settings not loaded, getting from storage");cR.roistat.proxyForms.settings=bD.getObject(cx)||[]}};var cW=function(c2){bD.setObject(cx,c2)};var cS=function(){cZ("init form listener");cK(cR.roistat.proxyForms.settings);cH(cR.roistat.proxyForms.settings)};var c1=function(c2){return c2.hasOwnProperty("hosts")&&c2.hasOwnProperty("is_excluding_hosts")&&a3(c2.hosts)&&c2.hosts.length>0};var cM=function(c3){if(!c1(c3)){return true}var c4=cq(c3.hosts,aK(cR.location.host));var c2=Boolean(c3.is_excluding_hosts);return c2?!c4:c4};var cJ=function(c3){var c2=[];o(c3,function(c4){if(cM(c4)){c2.push(c4)
}});return c2};var cH=function(c2){var c4=[];o(c2,function(c5){if(c5.type==="js-button"){c4.push(c5)}});if(c4.length<1){cZ("no button settings");return}var c3;if(cV.addEventListener){c3=function(c5){cN(c4,c5,c5.target,cL)};cV.addEventListener("click",c3,true)}else{if(cV.attachEvent){c3=function(){var c5=cR.event;cN(c4,c5,c5.srcElement,cL,true)};cV.attachEvent("onclick",c3)}else{cZ("Listener could not be attached")}}};var cK=function(c3){var c2=[];o(c3,function(c5){if(c5.type==="form"){c2.push(c5)}});if(c2.length<1){cZ("no form settings");return}if(cV.addEventListener){var c4=function(c5){cN(c2,c5,c5.target,c0)};cV.addEventListener("submit",c4,true)}else{if(cV.attachEvent){setInterval(function(){c2=cJ(c2);var c5=cV.getElementsByTagName("form");o(c5,function(c6){if(c6.getAttribute("data-roistat-proxy-form-checked")==="true"){return}c6.setAttribute("data-roistat-proxy-form-checked","true");o(c2,function(c7){if(cI(c6,c7.selector)){c6.attachEvent("onsubmit",function(){cR.event.returnValue=false;c0(c7,cR.event.srcElement)})}})})},2000)}else{cZ("Listener could not be attached")}}};var cN=function(c5,c6,c7,c4,c2){var c8=cJ(c5);var c3=null;o(c8,function(c9){if(cI(c7,c9.selector)){c3=c9}});if(c3===null){cZ("No matched settings found for listener");return}c4(c6,c3,c7,c2)};var c0=function(c6,c4,c5,c3){var c2=cU(c5,c4);if(!cX(c2,c4)){return}c3?c6.returnValue=false:c6.preventDefault();cP(c2,c4,function(){HTMLFormElement.prototype.submit.call(c5)})};var cL=function(c4,c3){var c2=cU(null,c3);if(!cX(c2,c3)){return}cP(c2,c3)};var cP=function(c2,c5,c7){var c6={};var c4=cQ(c5.crm)&&c5.crm.hasOwnProperty("is_enabled");var c3=c4?c5.crm.is_enabled:true;c6.leadName=c5.hasOwnProperty("lead_name")?c5.lead_name:"    "+c5.title;c6.formTitle=c5.title;c6.name=c2.name;c6.phone=c2.phone;c6.email=c2.email;c6.text=c2.comment;c6.fields=c2.fields;c6.placeholders_data=c2.placeholdersData;c6.is_need_callback=c5.is_need_callback>0?1:0;c6.is_skip_sending=!c3;cR.roistatGoal.reach(c6,c7)};var cQ=function(c2){return(typeof c2==="number"&&!isNaN(c2))||(typeof c2==="string"&&c2!=="")||(typeof c2==="object"&&c2!==null)||(typeof c2==="boolean"&&c2)||a3(c2)};var cX=function(c2,c4){var c3=[],c6=["name","email","phone","comment"];o(c6,function(c7){if(c4.hasOwnProperty(c7)&&c4[c7].required>0){c3.push(c7)}});if(a3(c4.fields)){o(c4.fields,function(c7){if(c7.required>0){c3.push(c7)}})}var c5=true;o(c3,function(c7){if(!c2.hasOwnProperty(c7)||!cQ(c2[c7])){c5=false}});return c5};var cU=function(c4,c3){var c2={};c2.name=c3.name?cT(c4,c3.name.value,c3.name.type):"";c2.phone=c3.phone?cT(c4,c3.phone.value,c3.phone.type):"";c2.email=c3.email?cT(c4,c3.email.value,c3.email.type):"";c2.comment=c3.comment?cT(c4,c3.comment.value,c3.comment.type):"";c2.fields={};c2.placeholdersData={orderPage:bR};if(a3(c3.fields)){o(c3.fields,function(c5){c2.fields[c5.name]=cT(c4,c5.value,c5.type)})}return c2};var cT=function(c3,c6,c2){switch(c2){case"plain":return c6||"";case"input":var c5=c3.querySelector('input[name="'+c6+'"]');return c5?c5.value:"";case"js":try{return(new Function(c6))()}catch(c4){return""}}};var cY=function(){cZ("init");if(cR.roistatOnlineChatOnly){cZ("Shut down because only online chat need to be inited");return}if(!cR.roistat.proxyForms.enabled){cZ("disabled");return}cO();cS()};var cI=function(c5,c3){if(typeof Element!=="undefined"&&Element.prototype.matches){var c2=c5.matches(c3);if(!c2){return c5.closest(c3)?c5.closest(c3).matches(c3):false}return c2}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var c6=c5.matchesSelector(c3);if(!c6){return c5.closest(c3)?c5.closest(c3).matches(c3):false}return c6}else{if(cV.querySelectorAll){var c7=cV.querySelectorAll(c3);for(var c4=0;c4<c7.length;c4++){if(c7[c4]===c5){return true}}return false}}}return false};bT(cY);cR.roistatSaveProxyFormSettings=cW})(bG,v);(function A(){if(bG.onRoistatAllModulesLoaded!==bc&&typeof bG.onRoistatAllModulesLoaded==="function"){q("onRoistatAllModulesLoaded: call");bG.onRoistatAllModulesLoaded()}})();(function aH(cO,cR,cL){var cH=function(){return bD.get(W)*1>0};var cQ=function(cX){q("Request listener: "+cX)};var cW=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var cP=/^[^\s]+[@][^\s]+$/g;var cK=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var cJ=function cJ(){cQ("listen");if(cO.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function cZ(c2){var c1=this;cS(c1.responseURL,c2,function(){c1.oldSend(c2)})}XMLHttpRequest.prototype.send=cZ}if(cO.ActiveXObject){var cY=c0;function c0(c3){var c1=new cY(c3);var c4={};if(c3.toLowerCase()==="msxml2.xmlhttp"){c4={_ax:c1,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var c2="";c4._onReadyStateChange=function(){var c5=c4;return function(){c5.readyState=c5._ax.readyState;if(c5.readyState===4){c5.responseText=c5._ax.responseText;
c5.responseXml=c5._ax.responseXml;c5.status=c5._ax.status;c5.statusText=c5._ax.statusText}if(c5.onReadyStateChange){c5.onReadyStateChange()}}}();c4.open=function(c9,c7,c8,c5,c6){c2=c7;c8=(c8!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(c9,c7,c8,c5,c6)};c4.send=function(c5){var c6=this;cS(c2,c5,function(){this._ax.send(c5)})}}else{c4=c1}return c4}cO.ActiveXObject=c0}if(cO.fetch){var cX=fetch;fetch=function(c1,c2){cS(c1.url,c2||{});return cX(c1,c2||{})}}cO.addEventListener("submit",function(c4){var c6=c4.target.elements;var c5={};for(var c3=0;c3<c6.length;c3++){var c2=c6[c3];var c1=c2.getAttribute("name");c5[c1]=c2.value}cS("",c5)})};function cM(cX){var c0={};if(cX.length===0){return c0}var cZ=cX.split("?");if(cZ.length<2){return c0}var cY=cZ[1];c0=cI(cY);return c0}function cI(cY){var cZ=cY.split("&"),c1={};for(var cX=0;cX<cZ.length;cX++){var c0=cZ[cX].split("=");if(c0.length<2){continue}c1[c0[0]]=c0[1]}return c1}function cU(de){cQ("data: "+JSON.stringify(de));var c7={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var c4={email:"",phone:"",name:""};for(var cX in c7){var da=c7[cX];for(var c9 in da){if(da.hasOwnProperty(c9)){if(de.hasOwnProperty(da[c9])){c4[cX]=de[da[c9]];break}}}}cQ("new data: "+JSON.stringify(c4));var cZ=c4.phone.length===0;var c3=c4.email.length===0;if(!cZ&&!c3){return c4}var cY=new RegExp(cP);var c2=new RegExp(cW);var c5=Object.keys(de);for(var db=0;db<c5.length;db++){var c8=decodeURIComponent(String(de[c5[db]]));if(c3){var c0=c8.match(cY);if(c0&&c0.length>0){var c6=c4.email;c4.email=c0[0];cQ("parsing email, before: "+c6+", after: "+c4.email)}}if(cZ){var dd=c8.replace(/[\s-.()+*_:;'"`]/g,"");var dc=dd.match(c2);if(dc&&dc.length>0){var c1=c4.phone;c4.phone=c8;cQ("parsing phone, before: "+c1+", after: "+c4.phone)}}}return c4}var cN=function(cX){var cY=aK(cX);return !ac(cK,cY)};function cS(cZ,cY,cX){if(cZ.length>0&&!cN(cZ)){return}var c1=cM(cZ);var c3=cY;if(typeof c3==="string"){c3=cI(c3)}cQ("data before parsing "+JSON.stringify({get:c1,post:c3}));var c2=cU(c1);var c0=cU(c3);cQ("data after parsing "+JSON.stringify({get:c2,post:c0}));cT(c2,c0,cX)}function cT(cX,cZ,c3){var c2=cX.email.length>0?cX.email:cZ.email;var cY=cX.phone.length>0?cX.phone:cZ.phone;var c1=cX.name.length>0?cX.name:cZ.name;if(c2.length==0&&cY.length==0){c3();return}setTimeout(function(){c3()},100);var c0={leadName:"   ",name:c1,phone:cY,email:c2,is_skip_sending:1};cQ("phone or email is not empty, reaching goal "+JSON.stringify(c0));roistatGoal.reach(c0)}(function cV(){if(!cH()){cQ("disabled, skip");return}cJ()})()})(bG,v,bc)})(window,document,undefined);